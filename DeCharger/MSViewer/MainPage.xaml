<Window x:Class="MSViewer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vc="clr-namespace:Visifire.Charts;assembly=WPFVisifire.Charts"
    xmlns:p="clr-namespace:MSViewer.Properties"  
    xmlns:wpfx="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:ad="http://schemas.xceed.com/wpf/xaml/avalondock"    
    Closed="Window_Closed_1"
    x:Name="mainWindow"
    xmlns:this="clr-namespace:MSViewer"
        
    mc:Ignorable="d" MinWidth="1025" MinHeight="698" KeyUp="UserControl_KeyUp" Title="Lilly Decharger" Width="1024" Height="698" WindowStartupLocation="CenterScreen" ContentRendered="mainWindow_ContentRendered">

    <Window.Resources>
        <!--<Style TargetType="{x:Type this:SimpleCheckBox}">
            <Setter Property="Height" Value="20"/>
            <Setter Property="Width" Value="20"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Background" Value="#808080"/>
        </Style>-->

        <Style x:Key="ImageEnabled" TargetType="Image">
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.35"></Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="MyWaterMarkStyle" TargetType="{x:Type TextBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Grid>
                            <Border Background="White" BorderBrush="#FF7D8683" BorderThickness="1"/>
                            <ScrollViewer x:Name="PART_ContentHost" Margin="5,0,0,0" VerticalAlignment="Center" />
                            <Label Margin="5,0,0,0" x:Name="WaterMarkLabel" Content="{TemplateBinding Tag}" VerticalAlignment="Center"
                               Visibility="Collapsed" Foreground="Gray" FontFamily="Arial"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="Text" Value=""/>
                                </MultiTrigger.Conditions>
                                <Setter Property="Visibility" TargetName="WaterMarkLabel" Value="Visible"/>
                            </MultiTrigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="DimGray"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--<this:DoubleFormatter x:Key="FormatConverter"></this:DoubleFormatter>-->
        <Style x:Key="PreventListSelectionStyle" >
            <Style.Triggers>
                <Trigger Property="ListViewItem.IsSelected" Value="True">
                    <Setter Property="ListViewItem.Background" Value="{x:Null}" />
                    <Setter Property="ListViewItem.BorderBrush" Value="{x:Null}" />
                </Trigger>
            </Style.Triggers>
        </Style>


        <LinearGradientBrush x:Key="BgBrush1" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="#9CCF31"/>
            <!-- -->
            <GradientStop Offset="1" Color="#9CCF31"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="BgBrush2" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="#FFF44F"/>
            <GradientStop Offset="1" Color="#FFF44F"/>
        </LinearGradientBrush>
        <Style x:Key="HighlightPRow" TargetType="{x:Type DataGridRow}">
            <Style.Triggers>
                <!--<Trigger Property="Background"  Value="">
                    
                </Trigger>-->
                <DataTrigger Binding="{Binding Checked}" Value="true">
                    <Setter Property="Background" Value="{StaticResource BgBrush1}" />
                </DataTrigger>
                <!--<DataTrigger Binding="{Binding bkgcolor}" Value="FindSequenceTags.SequenceTag.BackGroundColor.Yellow">
                    <Setter Property="Background" Value="{StaticResource BgBrush2}" />
                </DataTrigger>-->
            </Style.Triggers>
        </Style>
        <Style x:Key="HighlightRow" TargetType="{x:Type DataGridRow}">
            <Style.Triggers>
                <!--<Trigger Property="Background"  Value="">
                    
                </Trigger>-->
                <DataTrigger Binding="{Binding bkgcolor}" Value="2">
                    <Setter Property="Background" Value="{StaticResource BgBrush1}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding bkgcolor}" Value="1">
                    <Setter Property="Background" Value="{StaticResource BgBrush2}" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Storyboard x:Key="SearchStrybrd" x:Name="SearchStoryBoard">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="txtSearchbox">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="btnSearchDatabaseSequences">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>
            <!--<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="imgSearchInfo">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>-->
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="lblsearchWatermark">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="lblsearchqry">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)" Storyboard.TargetName="btnSequenceSearchSource">
                <EasingDoubleKeyFrame KeyTime="0" Value="-6"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="-87"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="dtgrdSearchSequence">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.8" Value="1"/>
            </DoubleAnimationUsingKeyFrames>

        </Storyboard>
        <SolidColorBrush x:Key="clBrRed" Color="Red" />

        <!--<this:DeChargerViewModel x:Key="DechargerVM"></this:DeChargerViewModel>-->

    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
        </EventTrigger>
    </Window.Triggers>
    <!--<UserControl.Resources>
        < x:Key="CurrentMonoMasses"/>
    </UserControl.Resources>-->
    <wpfx:BusyIndicator x:Name="busyIndicator">

        <Grid x:Name="LayoutRoot" Loaded="LayoutRoot_Loaded" Margin="1,0,-1,0">
            <!--<Grid x:Name="LayoutRoot" Loaded="LayoutRoot_Loaded" DataContext="{Binding Source={StaticResource DechargerVM}}" Margin="1,0,-1,0">-->
            <!--<Grid.Resources>
            </Grid.Resources>
            <Button Content="Open File..." Height="23" Margin="0,65,45,0" Name="btnBrowse" VerticalAlignment="Top" Click="btnBrowse_Click" HorizontalAlignment="Right" Width="75" Grid.Column="2" />
            <Button Content="Extract Files" Height="23" HorizontalAlignment="Right" Margin="0,65,134.242,0" Name="button1" VerticalAlignment="Top" Width="83" Click="button1_Click_4" Grid.Column="2" />-->
            <Grid Grid.Row="0">
                <!--<Button Content="J" Width="99" Click="Button_Click_1" Height="36" />-->
                <!--<Image Height="55" HorizontalAlignment="Right" Opacity="1" OpacityMask="White" Source="lilly.png" Stretch="Fill" VerticalAlignment="Top" Width="162" Margin="0,1,2,0" Grid.Column="2" />-->
                <Image Height="44" HorizontalAlignment="Right" Opacity="1" OpacityMask="White" Source="Icons\lilly2.png" Stretch="Fill" VerticalAlignment="Top" Width="82" Margin="0,8,2,0" MouseLeftButtonDown="Image_MouseLeftButtonDown" />
                <Label Content="Decharged Mass Spectrum Viewer" FontSize="26" Height="45" HorizontalAlignment="Left" Margin="0,-8,0,0" Name="label4" VerticalAlignment="Top" Width="428" />
                <Label Height="25" Margin="0,16,240.4,0" Name="lblVersionAuthors" VerticalAlignment="Top" Content="Version 1.0.1234.1234 by Tony Major, Mike Knierman, and Anvesh Kodumuri" FontSize="9" HorizontalAlignment="Right" Width="368" BorderThickness="0" HorizontalContentAlignment="Right" />
                <Button Margin="0,13,123,0" ToolTip="Settings..." Background="#00DDDDDD" BorderThickness="0" Command="{Binding ConfigCommand}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" HorizontalContentAlignment="Center" Width="31" >
                    <Image Source="Icons/Gear.png" />
                </Button>

                <!--<Image ToolTip="Settings..." Height="27" HorizontalAlignment="Right" Margin="0,14,158.006,0" Name="imgConfig" Stretch="Fill" VerticalAlignment="Top" Width="31" Source="Gear.png" MouseLeftButtonUp="imgConfig_MouseLeftButtonUp" />-->
                <Button Margin="0,13,160,0" Background="Transparent" BorderThickness="0" Command="{Binding SaveCommand}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="31" >
                    <Button.InputBindings>
                        <MouseBinding Gesture="RightClick" Command="{Binding SaveAsCommand}" />

                    </Button.InputBindings>
                    <Image Source="Icons/save1.png" Style="{StaticResource ImageEnabled}" />
                    <Button.ToolTip>
                        <TextBlock>
                              Save Workspace
                              <LineBreak /> 
                              Right-Click to Save As...
                        </TextBlock>
                    </Button.ToolTip>
                </Button>
                <!--<Image ToolTip="Save Workspace..." Height="27" HorizontalAlignment="Right" Margin="0,16,194.4,0" x:Name="imgSaveWorkspace" Stretch="Fill" VerticalAlignment="Top" Width="31" Source="Icons/save1.png" MouseLeftButtonUp="imgSave_MouseLeftButtonUp" />-->
                <Label Content="An LRL Informatics Solution" Height="28" HorizontalAlignment="Left" Margin="0,34,0,0" x:Name="label5" VerticalAlignment="Top" Width="263" Grid.ColumnSpan="3" />
                <Rectangle Fill="Black" Height="2" Margin="8,32,240.4,0" x:Name="rectangle1" Stroke="Black" VerticalAlignment="Top" />
                <Label Content="FOR TESTING ONLY" Height="28" HorizontalAlignment="Right" Margin="20,4,308.242,0" x:Name="lblTest" VerticalAlignment="Top" Width="208" FontWeight="Bold" Foreground="Red" Visibility="Collapsed" FontSize="16" Grid.Column="2" />
                <!--<Button Margin="0,13,128,0" Background="#00DDDDDD" ToolTip="Give Feedback" BorderThickness="0" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="31" Click="btnFeedback_Click" >
                    <Image Source="Icons\Feedback.png" />
                </Button>-->
                <!--<Image Height="31" ToolTip="Give Feedback" x:Name="imgFeedback" Margin="0,13,126.006,0" Source="Icons\Feedback.png" VerticalAlignment="Top" MouseLeftButtonUp="imgFeedback_MouseLeftButtonUp_1" HorizontalAlignment="Right" Width="29" />-->
                <!--<Image HorizontalAlignment="Left" Height="62" Margin="839,16,0,-16" VerticalAlignment="Top" Width="100"/>-->

                <Button Name="btnShowInfo" Margin="0,13,92,0" Background="#00DDDDDD" ToolTip="Information and Help" BorderThickness="0" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="31" Click="btnShowInfo_Click"  >
                    <Image Source="Icons\infonew2.png" />
                </Button>
                <!--<Image HorizontalAlignment="Right" Height="31" Margin="0,13,91,0" ToolTip="Information and Help" Source="Icons\infonew2.png" VerticalAlignment="Top" Width="29" x:Name="imgInfoNew" MouseLeftButtonUp="imgInfoNew_MouseLeftButtonUp" />-->
                <!--<Button Margin="0,0,33.4,16.4" x:Name="btnDebug_Copy"  Content="Debug" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="82" Click="btnDebug_Click"/>-->
            </Grid>

            <!--<Grid Margin="10,0,0,0" Grid.Row="1" x:Name="grdDropFiles" HorizontalAlignment="Left" Width="1009" Height="608" VerticalAlignment="Top" >
                <Label Content="Drop file(s) here" FontSize="55" Margin="264,0,263,249" Height="113" VerticalAlignment="Bottom"/>
                -->
            <!--<Image HorizontalAlignment="Left" Height="307" Margin="130,0,0,0" VerticalAlignment="Top" Source="C:\InformaticsNew\INFORMATICS\DeCharger\Main\MSViewerBeta\MSViewer\Icons\FileDrop.png" Width="850"/>-->
            <!--

            </Grid>-->

            <Grid Grid.Row="1">
                <!-- Visibility="Hidden" x:Name="grdGridMain"> -->
                <ad:DockingManager x:Name="dockManager" Margin="4,5,4,2">
                    <ad:LayoutRoot x:Name="layoutroot1">
                        <ad:LayoutPanel x:Name="layout1" Orientation="Vertical">
                            <ad:LayoutAnchorablePane x:Name="layoutanchorablepane1" DockWidth="830" DockHeight="200">
                                <ad:LayoutAnchorable x:Name="dockTools" Title="Tools" >
                                    <Grid Margin="0,-65,47,-4">

                                        <wpfx:BusyIndicator x:Name="busyTic"   Margin="0,0,-50,0" >
                                            <wpfx:BusyIndicator.BusyContentTemplate>
                                                <DataTemplate>
                                                    <StackPanel Margin="4" DataContext="mainWindow">
                                                        <TextBlock Text="{Binding ElementName=mainWindow, Path=BusyProgressText}" HorizontalAlignment="Center"/>
                                                        <StackPanel Margin="4">
                                                            <ProgressBar Height="15" Value="{Binding ElementName=mainWindow, Path=BusyProgressValue}" Maximum="100"/>
                                                            <Button Margin="20,10,20,5" Content="Cancel" x:Name="btnCancelmainpage" Click="btnCancelmainpage_Click"></Button>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </wpfx:BusyIndicator.BusyContentTemplate>
                                            <!--<wpfx:BusyIndicator.OverlayStyle>
                                                            <Style TargetType="Rectangle">
                                                                <Setter Property="Fill" Value="#ffffeeee"/>
                                                            </Style>
                                                        </wpfx:BusyIndicator.OverlayStyle>-->
                                            <wpfx:BusyIndicator.ProgressBarStyle>
                                                <Style TargetType="ProgressBar">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </Style>
                                            </wpfx:BusyIndicator.ProgressBarStyle>

                                            <!--<xctk:BusyIndicator.BusyContentTemplate>
                                                            <DataTemplate>-->
                                            <!--<wpfx:BusyIndicator.BusyContent>

                                                                <StackPanel>
                                                                    <TextBlock Text="Uploading..." HorizontalAlignment="Center" />
                                                                    <ProgressBar x:Name="ticProgress" IsIndeterminate="False" Value="{Binding BusyProgressValue}" Maximum="100" Height="15" />
                                                                </StackPanel>

                                                        </wpfx:BusyIndicator.BusyContent>
                                                        <wpfx:BusyIndicator.ProgressBarStyle>
                                                            <Style TargetType="ProgressBar">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </Style>
                                                        </wpfx:BusyIndicator.ProgressBarStyle>-->
                                            <!--<wpfx:BusyIndicator.Busy-->
                                            <!--<wpfx:BusyIndicator.ProgressBarStyle>
                                                            <Style TargetType="ProgressBar">
                                                                <Setter Property="IsIndeterminate" Value="False"/>
                                                                <Setter Property="Height" Value="15"/>
                                                                <Setter Property="Margin" Value="8,0,8,8"/>
                                                                <Setter Property="Value" Value="{Binding ElementName=mainWindow, Path=BusyProgressValue}" />
                                                                <Setter Property="Value" Value="{Binding BusyProgressValue}"/>
                                                            </Style>
                                                        </wpfx:BusyIndicator.ProgressBarStyle>-->
                                            <TabControl Margin="5,67,5,7" Name="tabControl1" >
                                                <TabItem x:Name="tabProteinSearch" Header="Proteins" HorizontalAlignment="Left" Width="59">
                                                    <wpfx:BusyIndicator x:Name="bsySearchDatabase"  >
                                                        <wpfx:BusyIndicator.BusyContentTemplate>
                                                            <DataTemplate>
                                                                <StackPanel Margin="4" DataContext="mainWindow">
                                                                    <TextBlock Text="{Binding ElementName=mainWindow, Path=FileBusyProgressText}" HorizontalAlignment="Center"/>
                                                                    <StackPanel Margin="4">
                                                                        <ProgressBar IsIndeterminate="{Binding ElementName=mainWindow, Path=IsFileBusyProgressIndeterminate}" Height="15" Value="{Binding ElementName=mainWindow, Path=FileBusyProgressValue}" Maximum="100"/>
                                                                        <Button Visibility="{Binding ElementName=mainWindow, Path=ShowStopButton}"  Content="Stop" Width="120" Margin="0,8,0,0"  HorizontalAlignment="Center" Click="bsyIndicatorStop_Click"  />
                                                                    </StackPanel>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </wpfx:BusyIndicator.BusyContentTemplate>
                                                        <wpfx:BusyIndicator.ProgressBarStyle>
                                                            <Style TargetType="ProgressBar">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </Style>
                                                        </wpfx:BusyIndicator.ProgressBarStyle>

                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="206*"/>
                                                                <ColumnDefinition Width="789*"/>
                                                            </Grid.ColumnDefinitions>
                                                            <!--<Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="247*"/>
                                                                <ColumnDefinition Width="89*"/>
                                                            </Grid.ColumnDefinitions>-->
                                                            <Label x:Name="lblsearchqry" Visibility="Hidden" Content="Query" Margin="0,89,0,77" HorizontalAlignment="Left" Width="48">
                                                                <Label.RenderTransform>
                                                                    <TransformGroup>
                                                                        <ScaleTransform/>
                                                                        <SkewTransform/>
                                                                        <RotateTransform/>
                                                                        <TranslateTransform/>
                                                                    </TransformGroup>
                                                                </Label.RenderTransform>
                                                            </Label>
                                                            <!--<Image Name="imgSearchInfo"  HorizontalAlignment="Left" Height="29" Margin="10,2,0,0" VerticalAlignment="Top" Width="31" Source="Icons/109_AllAnnotations_Info_256.png" Visibility="Hidden" />-->

                                                            <Label Panel.ZIndex="4" x:Name="lblsearchWatermark" FontStyle="Italic" FontSize="14"  MouseLeftButtonDown="Label_MouseRightButtonDown" Content="Search for Protein by Sequence or Keyword" Opacity="0.67" HorizontalAlignment="Left" Width="547" Margin="46,89,0,199" Grid.ColumnSpan="2">
                                                                <Label.RenderTransform>
                                                                    <TransformGroup>
                                                                        <ScaleTransform/>
                                                                        <SkewTransform/>
                                                                        <RotateTransform/>
                                                                        <TranslateTransform/>
                                                                    </TransformGroup>
                                                                </Label.RenderTransform>
                                                            </Label>
                                                            <TextBox Panel.ZIndex="2" VerticalContentAlignment="Center" x:Name="txtSearchbox" FontSize="14" Margin="46,88,253,0" LostFocus="txtSearchbox_LostFocus" TextChanged="txtSearchbox_TextChanged"  KeyDown="txtSearchbox_KeyDown" Height="29" VerticalAlignment="Top" Grid.ColumnSpan="2" RenderTransformOrigin="0,0" BorderThickness="1,1,1,1">
                                                                <TextBox.RenderTransform>
                                                                    <TransformGroup>
                                                                        <ScaleTransform/>
                                                                        <SkewTransform/>
                                                                        <RotateTransform/>
                                                                        <TranslateTransform/>
                                                                    </TransformGroup>
                                                                </TextBox.RenderTransform>
                                                            </TextBox>

                                                            <wpfx:SplitButton Panel.ZIndex="2" Content="Search" x:Name="btnSearchDatabaseSequences" Click="btnSearchDatabaseSequences_Click" Margin="0,88,141,0" HorizontalAlignment="Right" Width="95" Height="29" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Grid.Column="1">
                                                                <wpfx:SplitButton.DropDownContent>
                                                                    <StackPanel>
                                                                        <MenuItem x:Name="mnuitemImprtfrmfile" Click="mnuitemImprtfrmfile_Click" Header="Import from file ..."></MenuItem>
                                                                    </StackPanel>
                                                                </wpfx:SplitButton.DropDownContent>
                                                                <wpfx:SplitButton.RenderTransform>
                                                                    <TransformGroup>
                                                                        <ScaleTransform/>
                                                                        <SkewTransform/>
                                                                        <RotateTransform/>
                                                                        <TranslateTransform/>
                                                                    </TransformGroup>
                                                                </wpfx:SplitButton.RenderTransform>
                                                            </wpfx:SplitButton>

                                                            <Button Panel.ZIndex="2" BorderThickness="0" Click="btnSequenceSearchSource_Click" x:Name="btnSequenceSearchSource" ToolTip="Database" HorizontalAlignment="Right" Margin="0,88,7,0" VerticalAlignment="Top" Width="118" Height="29" BorderBrush="#FFFDFBFB" Foreground="White" Background="{x:Null}" Grid.Column="1">
                                                                <StackPanel Orientation="Horizontal" >
                                                                    <Image Panel.ZIndex="2" Tag="Database" x:Name="imgSequenceSearchSource" Source="Icons/database_32xMD.png" Width="23" />
                                                                    <TextBlock x:Name="lblDataSource" Margin="0,4,0,0" Text="Database" MaxWidth="83" Visibility="Visible" FontSize="11" Foreground="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}"/>
                                                                </StackPanel>
                                                                <Button.RenderTransform>
                                                                    <TransformGroup>
                                                                        <ScaleTransform/>
                                                                        <SkewTransform/>
                                                                        <RotateTransform/>
                                                                        <TranslateTransform/>
                                                                    </TransformGroup>
                                                                </Button.RenderTransform>
                                                            </Button>


                                                            <Image Source="/Icons/information.png" x:Name="imgSearchInfo" Opacity="0.5" HorizontalAlignment="Left" Width="36" Height="21" VerticalAlignment="Top" Visibility="Hidden" Margin="11,4,0,0" MouseEnter="imgSearchInfo_MouseEnter" MouseLeave="imgSearchInfo_MouseLeave"/>
                                                            <Image Source="/Icons/warning.png" x:Name="imgSearchWarning" Opacity="0.65" HorizontalAlignment="Left" Width="36" Height="21" VerticalAlignment="Top" Visibility="Hidden" Margin="11,4,0,0" MouseEnter="imgSearchInfo_MouseEnter" MouseLeave="imgSearchInfo_MouseLeave"/>

                                                            <!-- Note: the Virtualizing properties for the grid are essential to prevent sequences from being swapped.  
                                                            I believe DataGrid Content Recycling is causing this!
                                                            See a description about it here: http://stackoverflow.com/questions/9949358/datagrid-row-virtualization-display-issue MouseRightButtonDown="dtgrdSearchSequence_MouseRightButtonDown" MouseRightButtonUp="dtgrdSearchSequence_MouseRightButtonUp"-->
                                                            <!-- IsEnabled="False" -->
                                                            <DataGrid x:Name="dtgrdSearchSequence" RowStyle="{StaticResource HighlightPRow}" Tag="{Binding Path=SearchResults}"  EnableRowVirtualization="True"  CanUserAddRows="False" Panel.ZIndex="1"  AutoGenerateColumns="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" Margin="2,33,2,0" Grid.ColumnSpan="2" Opacity="0" VerticalContentAlignment="Center">
                                                                <DataGrid.Resources>
                                                                    <Style TargetType="Hyperlink">
                                                                        <EventSetter Event="Click" Handler="DG_Hyperlink_Click1"/>
                                                                    </Style>
                                                                </DataGrid.Resources>
                                                                <DataGrid.ContextMenu>
                                                                    <ContextMenu>
                                                                        <MenuItem Header="Copy All" x:Name="mnuRichTextCopy1" Click="mnuRichTextCopy1_Click"/>
                                                                        <MenuItem Header="Export to Excel" x:Name="mnuProteinsExporttoExcel" Click="mnuProteinsExporttoExcel_Click" ></MenuItem>
                                                                        <MenuItem Header="Copy Sequence" Click="mnuCopySequence1_Click"  />
                                                                        <MenuItem Header="Copy Row" x:Name="mnuCopyProtein1" Click="mnuCopyProtein1_Click"></MenuItem>
                                                                        <MenuItem Header="Copy Accession" x:Name="mnuCopyAccession1" Click="mnuCopyAccession1_Click"></MenuItem>
                                                                        <MenuItem Header="Find in uniprot" x:Name="mnuFindinUniprot1" Click="mnuFindinUniprot1_Click" ></MenuItem>
                                                                        <MenuItem Header="Validate Sequence" x:Name="mnuProteinValidateSequence" Click="mnuProteinValidateSequence_Click" ></MenuItem>
                                                                    </ContextMenu>
                                                                </DataGrid.ContextMenu>

                                                                <!--<DataGrid.Resources>
                                                                    <ContextMenu x:Key="RowMenu" DataContext="{Binding PlacementTarget.DataContext, RelativeSource={RelativeSource Self}}">
                                                                        <MenuItem Header="Copy" Command="{Binding RowCopyCommand}">
                                                                        </MenuItem>
                                                                    </ContextMenu>
                                                                </DataGrid.Resources>

                                                                <DataGrid.RowStyle>
                                                                    <Style TargetType="DataGridRow">
                                                                        <Setter Property="ContextMenu" Value="{StaticResource RowMenu}" />
                                                                    </Style>
                                                                </DataGrid.RowStyle>-->

                                                                <DataGrid.Columns>
                                                                    <!--<DataGridTextColumn Header="MyNumber" IsReadOnly="True" Binding="{Binding Path=MyNumber}" Width="120" x:Name="txtSeqNumber"></DataGridTextColumn> SelectionMode=""-->
                                                                    <DataGridTextColumn Header="Accession" IsReadOnly="True" Binding="{Binding Path=Accession}" Width="180" CanUserReorder="False" x:Name="txtAccessionSequence">
                                                                        <DataGridTextColumn.HeaderTemplate>
                                                                            <DataTemplate>
                                                                                <StackPanel Orientation="Horizontal">
                                                                                    <Label Content="Accession"></Label>
                                                                                    <Button x:Name="btnAccessionSearchArrow" Click="btnAccessionSearchArrow_Click" BorderThickness="0">
                                                                                        <Image x:Name="imgAccessiondown" Tag="imgdown" Source="Icons\White-funnel-th.png" Height="14" ></Image>
                                                                                    </Button>
                                                                                </StackPanel>
                                                                            </DataTemplate>
                                                                        </DataGridTextColumn.HeaderTemplate>
                                                                    </DataGridTextColumn>
                                                                    <DataGridHyperlinkColumn Width="190" IsReadOnly="True" Header="Description" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Description}" x:Name="txtProteinGridDescriptionhyperlink">
                                                                        <DataGridHyperlinkColumn.HeaderTemplate>
                                                                            <DataTemplate>
                                                                                <StackPanel Orientation="Horizontal" >
                                                                                    <Label  Content="Description" ></Label>
                                                                                    <Button HorizontalAlignment="Stretch" Click="btnsearchArrow_Click"  VerticalAlignment="Stretch" x:Name="btnsearchArrow" BorderThickness="0">
                                                                                        <Image Tag="imgdown" x:Name="imgdownDescription" Source="Icons\White-funnel-th.png" Height="14" ></Image>
                                                                                    </Button>
                                                                                </StackPanel>
                                                                            </DataTemplate>
                                                                        </DataGridHyperlinkColumn.HeaderTemplate>
                                                                        <DataGridHyperlinkColumn.ElementStyle>
                                                                            <Style>
                                                                                <EventSetter Event="Hyperlink.Click" Handler="DG_Hyperlink_Click1"></EventSetter>
                                                                            </Style>
                                                                        </DataGridHyperlinkColumn.ElementStyle>
                                                                    </DataGridHyperlinkColumn>
                                                                    <DataGridTextColumn Header="Description" Visibility="Hidden" IsReadOnly="True" Binding="{Binding Path=Description}" Width="190" CanUserReorder="False" x:Name="txtProteinGridDescriptiontxt">
                                                                        <DataGridTextColumn.HeaderTemplate>
                                                                            <DataTemplate>
                                                                                <StackPanel Orientation="Horizontal" >
                                                                                    <Label  Content="Description" ></Label>
                                                                                    <Button HorizontalAlignment="Stretch" Click="btnsearchArrow_Click"  VerticalAlignment="Stretch" x:Name="btnsearchArrow" BorderThickness="0">
                                                                                        <Image Tag="imgdown" x:Name="imgdownDescription" Source="Icons\White-funnel-th.png" Height="14" ></Image>
                                                                                    </Button>
                                                                                </StackPanel>
                                                                            </DataTemplate>
                                                                        </DataGridTextColumn.HeaderTemplate>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn Header="Species" IsReadOnly="True" Binding="{Binding Path=Species}" Width="120" CanUserReorder="False"   x:Name="txtSpecies">
                                                                        <DataGridTextColumn.HeaderTemplate>
                                                                            <DataTemplate>
                                                                                <ComboBox x:Name="cmbSpecies" SelectedIndex="0" SelectionChanged="cmbSpecies_SelectionChanged"  Width="110">
                                                                                    <ComboBoxItem Content="All Species">
                                                                                    </ComboBoxItem>
                                                                                </ComboBox>
                                                                            </DataTemplate>
                                                                        </DataGridTextColumn.HeaderTemplate>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn Width="55" IsReadOnly="True" Binding="{Binding Path=ExpectValue}" CanUserReorder="False" x:Name="dtgrdtxtExpectValue" CanUserResize="False" Header="Expect"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="35" IsReadOnly="True" Binding="{Binding Path=Start}" CanUserReorder="False" CanUserResize="False" Header="Start"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="30" IsReadOnly="True" Binding="{Binding Path=End}" CanUserReorder="False" CanUserResize="False" Header="End"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="50" IsReadOnly="True" Binding="{Binding Path=YellowandGreenTagHits, StringFormat=0.00}" CanUserResize="False" CanUserReorder="False" Header="Hits"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="68" Visibility="Hidden" IsReadOnly="True" Binding="{Binding Path=DeltaMassVersusProtein, StringFormat=0.0000 }" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdSStxtDeltaMass" Header="Delta Mass"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="68" Header="PPM" IsReadOnly="True" Binding="{Binding Path=PPM, StringFormat=0.0}" CanUserResize="False" CanUserReorder="False"></DataGridTextColumn>
                                                                    <DataGridTextColumn Width="54" Visibility="Hidden" IsReadOnly="True" Binding="{Binding Path=Mass}" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdSStxtMass" Header="Mass"></DataGridTextColumn>
                                                                    <DataGridTemplateColumn Width="50">
                                                                        <DataGridTemplateColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <Button Content="Display" x:Name="btnShowDBSequence" Click="btnShowDBSequence_Click"></Button>
                                                                            </DataTemplate>
                                                                        </DataGridTemplateColumn.CellTemplate>
                                                                    </DataGridTemplateColumn>
                                                                    <DataGridTemplateColumn>
                                                                        <DataGridTemplateColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <Button Content="Validate" x:Name="btnProteinVerifyCurrentSequence" Click="btnProteinVerifyCurrentSequence_Click"></Button>
                                                                            </DataTemplate>
                                                                        </DataGridTemplateColumn.CellTemplate>
                                                                    </DataGridTemplateColumn>
                                                                    <DataGridTextColumn Width="100" Visibility="Hidden" IsReadOnly="False" Binding="{Binding Path=BlastTag}" Header="BlastpTag" x:Name="txtblastptag">
                                                                    </DataGridTextColumn>
                                                                    <DataGridTemplateColumn x:Name="tmpSequences" Width="*" CanUserReorder="False"  Header="Sequences" IsReadOnly="True">
                                                                        <DataGridTemplateColumn.HeaderTemplate>
                                                                            <DataTemplate>
                                                                                <StackPanel Orientation="Horizontal" Width="477">
                                                                                    <Label Content="Sequences" ></Label>
                                                                                    <Button x:Name="btnSequencesfilter" Click="btnSequencesfilter_Click" BorderThickness="0">
                                                                                        <Image Tag="imgdown" x:Name="imgSequencesSearch" Source="Icons\White-funnel-th.png" Height="14" ></Image>
                                                                                    </Button>
                                                                                </StackPanel>
                                                                            </DataTemplate>
                                                                        </DataGridTemplateColumn.HeaderTemplate>
                                                                        <DataGridTemplateColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <!--<asd:BindableRichTextBox BorderThickness="0" MatchResult="{Binding MatchResult}"   IsReadOnly="True"></asd:BindableRichTextBox> FontFamily="Courier New" Uid="{Binding Path=}" FontFamily="Lucida Console" FontFamily="Century Schoolbook"-->
                                                                                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Sequence, Mode=OneWay, NotifyOnTargetUpdated=True }" Tag="{Binding matchstartends, Mode=OneWay }" Uid="{Binding Path=Accession}" TargetUpdated="OnTargetUpdated" MouseRightButtonDown="TextBlock_MouseRightButtonDown" VerticalAlignment="Center" />
                                                                                <!--<TextBlock TextWrapping="Wrap" Text="{Binding Path=Sequence, Mode=OneWay, NotifyOnTargetUpdated=True }" Tag="{Binding matchstartends, Mode=OneWay }" Uid="{Binding Path=AccessionandTagstartends}" TargetUpdated="OnTargetUpdated" MouseRightButtonDown="TextBlock_MouseRightButtonDown" VerticalAlignment="Center" />-->
                                                                            </DataTemplate>
                                                                        </DataGridTemplateColumn.CellTemplate>
                                                                    </DataGridTemplateColumn>
                                                                    <!--ParentMass="{Binding Path=ParentMass}" PairMatch="{Binding Path=PairMatch}" Mainsequencematch="{Binding Path=sequencesfordbmatching}" Allthesequencetags="{Binding Allthesequencetags}" CrntIons="{Binding Path=CurntIons}" AllSqsTags="{Binding Path=AllsqsTags}" -->
                                                                </DataGrid.Columns>

                                                            </DataGrid>



                                                            <Rectangle Panel.ZIndex="1" Fill="#FFF4F4F5" Visibility="Collapsed"  x:Name="rctsrchDescription" HorizontalAlignment="Left" Height="0" Margin="201,74,0,0" Stroke="Black" VerticalAlignment="Top" Width="338" Grid.ColumnSpan="2"/>
                                                            <TextBox Panel.ZIndex="1" HorizontalAlignment="Left" Height="23" Visibility="Collapsed"  Margin="212,81,0,0" TextWrapping="Wrap" KeyDown="btnsrchDescription_KeyDown" x:Name="txtsrchDescription" VerticalAlignment="Top" Width="300" BorderBrush="{x:Null}" Background="{x:Null}" Grid.ColumnSpan="2"/>
                                                            <Button Panel.ZIndex="1" Content="Filter" x:Name="btnsrchDescription" Click="btnsrchDescription_Click" Visibility="Collapsed"   HorizontalAlignment="Left" Margin="240,115,0,0" VerticalAlignment="Top" Width="80" Grid.ColumnSpan="2" />
                                                            <ComboBox Panel.ZIndex="1" x:Name="cmbfilterdesc" Visibility="Hidden"  SelectedIndex="0" HorizontalAlignment="Left" Margin="201,81,0,0" VerticalAlignment="Top" Width="81" Height="20" Grid.ColumnSpan="2" BorderBrush="#FF688CAF" Background="#FFF0F0F0" Opacity="0">
                                                                <ComboBoxItem>
                                                                    Contains
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Equals
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Startswith
                                                                </ComboBoxItem>
                                                            </ComboBox>
                                                            <Rectangle Panel.ZIndex="1" Fill="#FFF4F4F5" x:Name="rctAccessionSearch" Visibility="Collapsed" HorizontalAlignment="Left" Height="70" Margin="0,74,0,0" Stroke="Black" VerticalAlignment="Top" Width="246" Grid.ColumnSpan="2"/>
                                                            <TextBox Panel.ZIndex="1" HorizontalAlignment="Left" Height="23" Margin="2,81,0,0" Visibility="Collapsed" TextWrapping="Wrap" KeyDown="txtAccessionSearch_KeyDown" x:Name="txtAccessionSearch" VerticalAlignment="Top" Width="220" Grid.ColumnSpan="2"/>
                                                            <Button Panel.ZIndex="1" Content="Filter" Click="btnAccessionSearch_Click"  HorizontalAlignment="Left" Visibility="Collapsed" x:Name="btnAccessionSearch" Margin="31,115,0,0" VerticalAlignment="Top" Width="75" Height="0"/>
                                                            <ComboBox Panel.ZIndex="1" HorizontalAlignment="Left" SelectedIndex="0" Visibility="Hidden" Margin="2,81,0,0" Grid.ColumnSpan="2" x:Name="cmbAccessionSearch" VerticalAlignment="Top" Width="91" Height="23">
                                                                <ComboBoxItem>
                                                                    Contains
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Starts With
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Equals
                                                                </ComboBoxItem>
                                                            </ComboBox>
                                                            <Button Panel.ZIndex="1" Content="Clear Filter" Click="btnAccessionclrFilter_Click" Visibility="Collapsed" x:Name="btnAccessionclrFilter" HorizontalAlignment="Left" Margin="138,115,0,0" VerticalAlignment="Top" Width="75" Height="0" Grid.ColumnSpan="2"/>
                                                            <Button Panel.ZIndex="1" Content="Clear Filter" Visibility="Collapsed" Click="btnDescriptionclrFilter_Click" x:Name="btnDescriptionclrFilter" HorizontalAlignment="Left" Margin="420,115,0,0" VerticalAlignment="Top" Width="99" Height="0" Grid.ColumnSpan="2"/>
                                                            <Rectangle Panel.ZIndex="1" Fill="#FFF4F4F5" x:Name="rctFilterSequences" HorizontalAlignment="Left" Visibility="Collapsed" Height="64" Margin="319,74,-7.803,0" Stroke="Black" VerticalAlignment="Top" Width="478" Grid.Column="1"/>
                                                            <TextBox Panel.ZIndex="1" x:Name="txtFilterSequences" KeyDown="txtFilterSequences_KeyDown" Visibility="Collapsed" HorizontalAlignment="Left" Height="23" Margin="330,81,-2.803,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="420" Grid.Column="1"/>
                                                            <Button Panel.ZIndex="1" x:Name="btnFilterSequences" Click="btnFilterSequences_Click"  Visibility="Collapsed" Content="Filter" HorizontalAlignment="Left" Margin="392,112,0,0" VerticalAlignment="Top" Width="75" Height="0" Grid.Column="1"/>
                                                            <Button Panel.ZIndex="1" x:Name="btnClearFilterSequences" Click="btnClearFilterSequences_Click" Visibility="Collapsed" Content="Clear Filter" HorizontalAlignment="Left" Margin="480,112,0,0" VerticalAlignment="Top" Width="75" Height="0" Grid.Column="1"/>
                                                            <ComboBox Panel.ZIndex="1" x:Name="cmbFilterSequences" Visibility="Hidden" SelectedIndex="0" HorizontalAlignment="Left" Margin="329,82,0,0" VerticalAlignment="Top" Width="120" Height="0" Grid.Column="1">
                                                                <ComboBoxItem>
                                                                    Contains
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Startswith
                                                                </ComboBoxItem>
                                                                <ComboBoxItem>
                                                                    Equals
                                                                </ComboBoxItem>
                                                            </ComboBox>

                                                            <Grid Margin="0,130,0,0" Height="262" VerticalAlignment="Top" HorizontalAlignment="Center"  Width="460" x:Name="GrdDragDropFiles" ToolTip="Drag multiple FASTA and/or one RAW file or one .D folder" Grid.ColumnSpan="2">
                                                                <Label x:Name="lbldragdropfileshere" Content="Drag/Drop Files here" Margin="105,59,0,0" VerticalAlignment="Top" FontSize="35" Height="60" Foreground="Gray" HorizontalAlignment="Left" Width="340" />
                                                                <Label x:Name="lbldragdropmltplfls" Content="(You can drop multiple files)" Foreground="LightGray" HorizontalAlignment="Left" Margin="189,101,0,0" VerticalAlignment="Top" Width="184"/>
                                                                <Label x:Name="lbldragdropborder" BorderBrush="LightGray" BorderThickness="2" HorizontalAlignment="Left" Margin="132,123,0,-19" VerticalAlignment="Top" Height="123" Width="325">
                                                                    <StackPanel Width="313">
                                                                        <Label Content="RAW - Thermo data file" x:Name="lbldragdropfiletypesRAW" FontSize="18" Height="30" Margin="-3,-4,3,0"/>
                                                                        <Label Content="D - Agilent data folder" FontSize="18" Height="34" x:Name="lbldragdropfiletypesD" Margin="-3,-4,3,0" />
                                                                        <Label Content="mzML - XML formatted data file" FontSize="18" Height="30" Margin="-3,-8,3,0" />
                                                                        <Label Content="FSA or FASTA - Protein sequence files" x:Name="lbldragdropfiletypesFSA" Height="34" FontSize="18" Margin="-3,-4,3,0" />
                                                                    </StackPanel>
                                                                </Label>
                                                                <Image HorizontalAlignment="Left" Opacity="0.5" Height="100" Margin="-2,79,0,0" Source="/Icons/File.png" VerticalAlignment="Top" Width="100"/>
                                                            </Grid>
                                                        </Grid>
                                                    </wpfx:BusyIndicator>
                                                </TabItem>
                                                <this:NonKeyNavigationTabItem Header="TIC" x:Name="tabTIC">
                                                    <Grid KeyUp="LayoutRoot_KeyUp" KeyDown="LayoutRoot_KeyDown">


                                                        <vc:Chart SamplingThreshold="750" IndicatorEnabled="True" ScrollingEnabled="False" Name="TIC_Chart" AnimationEnabled="false" ShadowEnabled="false" BorderThickness="0.5" Padding="3" IsEnabled="False" ToolBarEnabled="True">
                                                            <vc:Chart.AxesX>
                                                                <vc:Axis Title="Retention Time (minutes)" />
                                                            </vc:Chart.AxesX>
                                                            <vc:Chart.AxesY>
                                                                <vc:Axis Title="Intensity" IsTabStop="True" />
                                                            </vc:Chart.AxesY>
                                                            <vc:Chart.Series>
                                                                <vc:DataSeries ToolTipText="{x:Null}" SelectionEnabled="True" MarkerEnabled="false" Name="TICChartPoints" Color="Blue" LabelEnabled="false" RenderAs="QuickLine"  XValueFormatString="#0.00">
                                                                    <vc:DataSeries.DataMappings>
                                                                        <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                        <vc:DataMapping MemberName="YValue" Path="Value" />
                                                                    </vc:DataSeries.DataMappings>
                                                                </vc:DataSeries>
                                                            </vc:Chart.Series>
                                                        </vc:Chart>

                                                    </Grid>
                                                </this:NonKeyNavigationTabItem>
                                                <TabItem Header="BPI" Name="tabBPI">
                                                    <Grid>

                                                        <vc:Chart ScrollingEnabled="False" Name="BPI_Chart" AnimationEnabled="false" ManualZoomEnabled="True" ShadowEnabled="false" BorderThickness="0.5" Padding="3" IsEnabled="False" ToolBarEnabled="True" Grid.ColumnSpan="2">
                                                            <vc:Chart.AxesX>
                                                                <vc:Axis Title="Retention Time (minutes)" />
                                                            </vc:Chart.AxesX>
                                                            <vc:Chart.AxesY>
                                                                <vc:Axis Title="Intensity" />
                                                            </vc:Chart.AxesY>
                                                            <vc:Chart.Series>
                                                                <vc:DataSeries ToolTipText="{x:Null}" MarkerEnabled="false" ShadowEnabled="False" Name="BPIChartPoints" Color="Blue" RenderAs="QuickLine" LabelEnabled="false" >
                                                                    <vc:DataSeries.DataMappings>
                                                                        <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                        <vc:DataMapping MemberName="YValue" Path="Value" />
                                                                    </vc:DataSeries.DataMappings>
                                                                </vc:DataSeries>
                                                            </vc:Chart.Series>
                                                        </vc:Chart>

                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="BPM" Name="tabBPM">
                                                    <Grid>

                                                        <vc:Chart ScrollingEnabled="False" Name="BPM_Chart" AnimationEnabled="false" ShadowEnabled="false" BorderThickness="0.5" Padding="3" IsEnabled="False" ToolBarEnabled="True">
                                                            <vc:Chart.AxesX>
                                                                <vc:Axis Title="Retention Time (minutes)" />
                                                            </vc:Chart.AxesX>
                                                            <vc:Chart.AxesY>
                                                                <vc:Axis Title="M/Z" />
                                                            </vc:Chart.AxesY>
                                                            <vc:Chart.Series>
                                                                <vc:DataSeries ToolTipText="{x:Null}" MarkerEnabled="false" ShadowEnabled="False" Name="BPMChartPoints" Color="Blue" RenderAs="QuickLine" LabelEnabled="false" >
                                                                    <vc:DataSeries.DataMappings>
                                                                        <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                        <vc:DataMapping MemberName="YValue" Path="Value" />
                                                                    </vc:DataSeries.DataMappings>
                                                                </vc:DataSeries>
                                                            </vc:Chart.Series>
                                                        </vc:Chart>

                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="XIC" Name="tabXIC">
                                                    <Grid>

                                                        <vc:Chart ScrollingEnabled="False" Name="XIC_Chart" AnimationEnabled="false" ShadowEnabled="false" BorderThickness="0.5" Padding="3" IsEnabled="False" ToolBarEnabled="True" Margin="0,0,290,0">
                                                            <vc:Chart.AxesX>
                                                                <vc:Axis Title="Retention Time (minutes)" />
                                                            </vc:Chart.AxesX>
                                                            <vc:Chart.AxesY>
                                                                <vc:Axis Title="Intensity" />
                                                            </vc:Chart.AxesY>
                                                            <vc:Chart.Series>
                                                                <vc:DataSeries ToolTipText="{x:Null}" MarkerEnabled="false" Name="XICChartPoints" Color="Blue" LabelEnabled="false" RenderAs="Line" ShadowEnabled="False" >
                                                                    <vc:DataSeries.DataMappings>
                                                                        <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                        <vc:DataMapping MemberName="YValue" Path="Value" />
                                                                    </vc:DataSeries.DataMappings>
                                                                </vc:DataSeries>
                                                            </vc:Chart.Series>
                                                        </vc:Chart>


                                                        <ListView Name="QuantitationListView" Margin="0,5,5,25" HorizontalAlignment="Right" Width="280" Focusable="False" ItemContainerStyle="{StaticResource PreventListSelectionStyle}" >
                                                            <ListView.CommandBindings>
                                                                <CommandBinding Command="ApplicationCommands.Copy" CanExecute="CopyCmdCanExecute" Executed="CopyCmdExecuted" />
                                                                <CommandBinding Command="ApplicationCommands.Delete" CanExecute="ClearCmdCanExecute" Executed="ClearCmdExecuted" />
                                                            </ListView.CommandBindings>
                                                            <ListView.View>
                                                                <GridView>
                                                                    <GridView.Columns>
                                                                        <GridViewColumn Header="Area" Width="80" DisplayMemberBinding="{Binding Path=Area}" />
                                                                        <GridViewColumn Header="Mass" Width="60" DisplayMemberBinding="{Binding Path=Mass}" />
                                                                        <GridViewColumn Header="Z" Width="25" DisplayMemberBinding="{Binding Path=Z}" />
                                                                        <GridViewColumn Header="RT Range" Width="80" DisplayMemberBinding="{Binding Path=RtRange}" />
                                                                        <GridViewColumn Header="XIC" Width="100" DisplayMemberBinding="{Binding Path=MzRange}" />
                                                                    </GridView.Columns>
                                                                </GridView>
                                                            </ListView.View>
                                                            <ListView.ContextMenu>
                                                                <ContextMenu>
                                                                    <MenuItem Header="Clear List" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=QuantitationListView}"/>
                                                                    <MenuItem Header="Copy" Command="ApplicationCommands.Copy" CommandTarget="{Binding ElementName=QuantitationListView}"/>
                                                                </ContextMenu>
                                                            </ListView.ContextMenu>

                                                        </ListView>

                                                        <CheckBox Content="Include All Charge States" Height="16" HorizontalAlignment="Right" IsEnabled="True"  Name="chkMultiCharge" VerticalAlignment="Bottom" />
                                                        <Label Content="Tip: Drag with the right mouse button to calculate Area" HorizontalAlignment="Left" Margin="0,0,0,-3" VerticalAlignment="Bottom" RenderTransformOrigin="-2.623,0.269" FontSize="10" Foreground="#FF006103"/>

                                                        <!--<TextBox x:Name="txtPeakAreas" Margin="0,10,10,10" HorizontalAlignment="Right" Width="109" />-->
                                                    </Grid>
                                                </TabItem>

                                                <TabItem Header="Red Markers" x:Name="tabItem1">
                                                    <Grid>
                                                        <TextBox Margin="0,0,93,21" Name="txtMarkers" ToolTipService.ToolTip="Enter one numeric value and comment per line here" AcceptsReturn="True" TextWrapping="Wrap" />
                                                        <Button Content="Apply" Height="28" HorizontalAlignment="Right" Margin="0,0,6,6" Name="btnApply" VerticalAlignment="Bottom" Width="75" Click="btnApply_Click" />
                                                        <Button Content="Clear" Height="28" HorizontalAlignment="Right" x:Name="btnClearMarkers1" VerticalAlignment="Bottom" Width="75" Margin="0,0,6,39" Click="btnClearMarkers1_Click" />
                                                        <Label Content="Format Per Line: MarkerValue &lt;SPACE> MarkerName " HorizontalAlignment="Left" Margin="2,0,0,-2" FontSize="10" Foreground="Red" VerticalAlignment="Bottom" Width="905"/>
                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="Green Markers" x:Name="tbGreenMarkers">
                                                    <Grid>
                                                        <TextBox Margin="0,6,87,20" Name="txtMarkers2" ToolTipService.ToolTip="Enter one numeric value and comment per line here" AcceptsReturn="True" TextWrapping="Wrap" />
                                                        <Button Content="Apply" Height="28" HorizontalAlignment="Right" Margin="0,0,6,6" Name="btnApply2" VerticalAlignment="Bottom" Width="75" Click="btnApply2_Click" />
                                                        <Button Content="Clear" Height="28" HorizontalAlignment="Right" x:Name="btnClearMarkers2" VerticalAlignment="Bottom" Width="75" Margin="0,0,6,39" Click="btnClearMarkers2_Click" />
                                                        <Label Content="Format Per Line: MarkerValue &lt;SPACE> MarkerName " HorizontalAlignment="Left" Margin="1,0,0,-3" VerticalAlignment="Bottom" FontSize="10" Foreground="#FF006103" Width="920"/>
                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="Match List" x:Name="tbMatchList">
                                                    <Grid>
                                                        <TextBox ScrollViewer.VerticalScrollBarVisibility="Auto" Drop="txtMolecules_Drop" PreviewDragOver="txtMolecules_PreviewDragOver"  Margin="10,30,0,28"  TextChanged="txtMolecules_TextChanged" Name="txtMolecules" ToolTipService.ToolTip="Enter Name &lt;tab&gt; Mass" AcceptsReturn="True" TextWrapping="Wrap" KeyDown="txtMolecules_KeyDown" HorizontalAlignment="Left" Width="524" />
                                                        <!-- Text="{Binding Source={x:Static p:Settings.Default}, Path=MatchList, Mode=TwoWay}"-->
                                                        <!--<Button Content="Apply" Height="28" HorizontalAlignment="Right" Margin="0,0,6,6" Name="btnApply3" VerticalAlignment="Bottom" Width="75" Click="btnApply3_Click" />-->
                                                        <Label Content="Format is: Name &lt;tab&gt; Mass" Height="28" HorizontalAlignment="Left" Name="label2" VerticalAlignment="Bottom" Width="328" />
                                                        <CheckBox Content="Include Dipeptides" Height="16" HorizontalAlignment="Left" IsEnabled="True" Margin="418,0,0,7" Name="chkDipeptides" VerticalAlignment="Bottom" />
                                                        <Button x:Name="btnNewMatchList" Content="New" Click="btnNewMatchList_Click" HorizontalAlignment="Left" Margin="264,4,0,0" VerticalAlignment="Top" Width="75"/>
                                                        <Button x:Name="btnSaveMatchList" Click="btnSaveMatchList_Click" Content="Save and Apply" HorizontalAlignment="Left" Margin="349,4,0,0" VerticalAlignment="Top" Visibility="Hidden"  Width="95"/>
                                                        <Button x:Name="btnDeleteMatchList" Click="btnDeleteMatchList_Click" Content="Delete" HorizontalAlignment="Left" Margin="459,4,0,0" VerticalAlignment="Top" Width="75" Visibility="Hidden"/>
                                                        <!-- -->
                                                        <ComboBox  x:Name="cmbMatchList" HorizontalAlignment="Left" Margin="10,4,0,0" VerticalAlignment="Top" Width="240" SelectionChanged="cmbMatchList_SelectionChanged"/>
                                                        <!--<TextBox HorizontalAlignment="Left" Margin="476,10,0,6" x:Name="txtOnlyModifications" TextWrapping="Wrap" Text="{Binding Source={x:Static p:Settings.Default}, Path=ModifiedAminoAcids, Mode=TwoWay}" Width="384"/>-->
                                                        <Label FontWeight="Medium" Content="                  Post-Translational Modification" HorizontalAlignment="Left" Margin="565,0,0,0" VerticalAlignment="Top" Height="29" Width="301"/>
                                                        <DataGrid x:Name="dtgridModificationsList1" AllowDrop="True" PreviewMouseLeftButtonDown="dtgridModificationsList1_PreviewMouseLeftButtonDown" 
                                                                     CanUserAddRows="False" CanUserDeleteRows="False"     AutoGenerateColumns="False" SelectionMode="Single" HorizontalAlignment="Left" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" Margin="564,29,0,39" Width="302">
                                                            <!-- CanUserAddRows="False" CanUserDeleteRows="False" DragEnter="dtgridModificationsList_DragEnter" DragOver="dtgridModificationsList_DragOver" Drop="dtgridModificationsList_Drop" DragLeave="dtgridModificationsList_DragLeave"-->
                                                            <DataGrid.Columns>
                                                                <DataGridTextColumn IsReadOnly="True" Width="134" CanUserSort="False" Binding="{Binding Path=Name}" CanUserResize="True" Header="Name" CanUserReorder="False"/>
                                                                <DataGridTextColumn IsReadOnly="True" Width="61" CanUserSort="False" Binding="{Binding Path=Mass}" CanUserResize="False" Header="Mass" CanUserReorder="False"/>
                                                                <DataGridTextColumn IsReadOnly="True" Width="79" CanUserSort="False" Binding="{Binding Path=Abbreviation}" CanUserResize="False" Header="Abbreviation" CanUserReorder="False"/>
                                                            </DataGrid.Columns>
                                                        </DataGrid>
                                                        <TextBox HorizontalAlignment="Left" Height="162" Margin="878,29,0,0" TextWrapping="Wrap" Visibility="Hidden" Text="" x:Name="txttempMod" VerticalAlignment="Top" Width="120"/>
                                                        <TextBox HorizontalAlignment="Left" Height="23" Margin="879,199,0,0" TextWrapping="Wrap" Visibility="Hidden" Text="" x:Name="txttempModIndex" VerticalAlignment="Top" Width="120"/>
                                                        <Label Foreground="Green" Content="Tip: Drag and drop modification to the desired location" HorizontalAlignment="Left" Margin="564,0,0,8" VerticalAlignment="Bottom" Height="29" Width="303"/>
                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="Mono Mass List" x:Name="tbMonoMassList">
                                                    <Grid>
                                                        <DataGrid x:Name="dtgridMonoMasses" ItemsSource="{Binding}" Margin="10,6,304,6" AutoGenerateColumns="False" SelectionMode="Extended" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray">
                                                            <DataGrid.CommandBindings>
                                                                <CommandBinding Command="ApplicationCommands.Delete" Executed="CommandBinding_Executed_1"></CommandBinding>
                                                            </DataGrid.CommandBindings>
                                                            <ContextMenuService.ContextMenu>
                                                                <ContextMenu>
                                                                    <MenuItem x:Name="mnuDelete" Header="Delete" Click="mnuDelete_Click_1">
                                                                    </MenuItem>
                                                                </ContextMenu>
                                                            </ContextMenuService.ContextMenu>
                                                            <DataGrid.Columns>
                                                                <DataGridTextColumn Width="145" IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=XValue, StringFormat=F4}" ></DataGridTextColumn>
                                                                <!--<DataGridTextColumn Width="145" IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=XValue, StringFormat=F4}" ></DataGridTextColumn>-->
                                                                <DataGridTextColumn Width="145" IsReadOnly="True" Header="Intensity" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=YValue, StringFormat=F4}"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="180" IsReadOnly="True" Header="Charge" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ZValue}"></DataGridTextColumn>
                                                            </DataGrid.Columns>
                                                        </DataGrid>
                                                        <!--<ListView Margin="6,6,198,6" ItemsSource="{Binding}" Width="484" x:Name="lstMonoMasses">
                                                        <ContextMenuService.ContextMenu>
                                                            <ContextMenu>
                                                                <MenuItem x:Name="mnuDelete" Header="Delete" Click="mnuDelete_Click_1">
                                                                </MenuItem>
                                                            </ContextMenu>
                                                        </ContextMenuService.ContextMenu>
                                                        <ListView.View>
                                                            <GridView>
                                                                <GridViewColumn Width="150" Header="Mass" DisplayMemberBinding="{Binding Path=XValue, StringFormat=F4}" ></GridViewColumn>
                                                                <GridViewColumn Width="150" Header="Intensity" DisplayMemberBinding="{Binding Path=YValue, StringFormat=F4}"></GridViewColumn>
                                                                <GridViewColumn Width="184" Header="Charge" DisplayMemberBinding="{Binding Path=ZValue}"></GridViewColumn>
                                                            </GridView>
                                                        </ListView.View>
                                                    </ListView>-->
                                                        <!--<TextBox Margin="6,6,198,6" Name="txtMonoMasses" AcceptsReturn="True" TextWrapping="Wrap" IsReadOnly="True" Width="484" />-->
                                                        <Button Content="Copy All" Height="28" HorizontalAlignment="Right" Margin="0,0,6,6" Name="btnCopy" VerticalAlignment="Bottom" Width="75" Click="btnCopy_Click" />
                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="Merge Spectra" x:Name="tbMergeSpectra" >
                                                    <wpfx:BusyIndicator x:Name="busymergespectra">
                                                        <Grid>
                                                            <Button Content="Merge Selected" Height="28" HorizontalAlignment="Left" Margin="12,0,0,6" Name="btnMerge" VerticalAlignment="Bottom" Width="101" Click="btnMerge_Click" />
                                                            <Button Content="Group by Parent" Height="28" Visibility="Collapsed" HorizontalAlignment="Left" Name="btngrpbyParent" VerticalAlignment="Bottom" Width="101" Margin="129,0,0,6" Click="btngrpbyParent_Click_1"></Button>
                                                            <DataGrid AutoGenerateColumns="False" CanUserAddRows="False" Margin="7,4,6,40" x:Name="grdMerge1" ItemsSource="{Binding}"  MouseDoubleClick="grdMerge1_MouseDoubleClick" SelectionMode="Extended"  HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray">
                                                                <DataGrid.ContextMenu>
                                                                    <ContextMenu>
                                                                        <MenuItem x:Name="mnuitmMrgSpectra" Header="Export to Excel" Click="mnuitmMrgSpectra_Click" ></MenuItem>
                                                                        <MenuItem x:Name="mnuDetectParentSelected" Header="Detect Parent for Selection" Click="mnuDetectParentSelected_Click" ></MenuItem>
                                                                    </ContextMenu>
                                                                </DataGrid.ContextMenu>
                                                                <DataGrid.Columns>
                                                                    <DataGridTextColumn Header="TimeSort" Visibility="Collapsed" IsReadOnly="True" Binding="{Binding Path=TimeSort}"/>
                                                                    <DataGridTextColumn Header="Scan Number" CanUserResize="False" CanUserReorder="False" IsReadOnly="True" Binding="{Binding Path=ScanNumber}"/>
                                                                    <DataGridTextColumn Header="Title" Binding="{Binding Path=Title}" CanUserResize="False" IsReadOnly="True" CanUserReorder="False"/>
                                                                    <DataGridTextColumn Header="Time" Binding="{Binding Path=RetentionTime, StringFormat=F3}" CanUserReorder="False" IsReadOnly="True"  CanUserResize="False"></DataGridTextColumn>
                                                                    <DataGridTextColumn Header="Mass" Binding="{Binding Path=ParentMass, StringFormat=F3}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False"></DataGridTextColumn>
                                                                    <DataGridTextColumn Header="Z" Binding="{Binding Path=ParentZ}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False"></DataGridTextColumn>

                                                                    <DataGridTemplateColumn Header="Relative Intensity" Width="*" Visibility="Visible" CanUserSort="True" SortMemberPath="RelativeIntensity">
                                                                        <DataGridTemplateColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <ProgressBar Value="{Binding Path=RelativeIntensity, Mode=OneWay}" Minimum="0" Maximum="1" >
                                                                                    <!-- Flat progressbar Based on: http://zamjad.wordpress.com/2011/08/31/part-control-template/ -->
                                                                                    <ProgressBar.Template>
                                                                                        <ControlTemplate>
                                                                                            <Grid Background="{TemplateBinding Background}">
                                                                                                <Rectangle Name="PART_Track"/>
                                                                                                <Rectangle Name="PART_Indicator" HorizontalAlignment="Left" Fill="{TemplateBinding Foreground}"/>
                                                                                            </Grid>
                                                                                        </ControlTemplate>
                                                                                    </ProgressBar.Template>
                                                                                </ProgressBar>
                                                                            </DataTemplate>
                                                                        </DataGridTemplateColumn.CellTemplate>
                                                                    </DataGridTemplateColumn>
                                                                </DataGrid.Columns>
                                                            </DataGrid>
                                                            <Button Margin="0,0,5.333,6.54" HorizontalAlignment="Right" Width="157" Height="28" VerticalAlignment="Bottom" Content="Detect Parent Charge Now" x:Name="btnDetectParents" Click="btnDetectParents_Click" ></Button>
                                                            <!--<ProgressBar x:Name="prgParentInfo" Margin="0,0,21,10" Height="24" Width="200" VerticalAlignment="Bottom" HorizontalAlignment="Right"/>-->
                                                            <Label HorizontalAlignment="Left" Margin="438,99,0,0" VerticalAlignment="Top"/>
                                                            <!--<Label Content="Parent Ion Detection Progress" Margin="0,0,226,7" HorizontalAlignment="Right" Width="181" Height="28" VerticalAlignment="Bottom"/>-->
                                                            <Button Margin="145,0,0,6" x:Name="btnMergeFullMSScans" Click="btnMergeFullMSScans_Click" Content="Merge Full MS Scans" HorizontalAlignment="Left" Width="128" Height="29" VerticalAlignment="Bottom" Visibility="Hidden" />
                                                            <CheckBox IsEnabled="False"  IsChecked="False" Content="Hide Scans with no Detected Precursor Mass" x:Name="chkHideScansWithNoMass" Checked="chkHideScansWithNoMass_CheckChanged" Unchecked="chkHideScansWithNoMass_CheckChanged" HorizontalAlignment="Left" Margin="116,0,0,6" VerticalAlignment="Bottom" Height="20" Width="264" RenderTransformOrigin="0.162,0.45"/>
                                                            <CheckBox  IsChecked="True" Content="Show MS1 Scans" x:Name="chkHideScansWithMS1" Checked="chkHideScansWithNoMass_CheckChanged" Unchecked="chkHideScansWithNoMass_CheckChanged" HorizontalAlignment="Left" Margin="380,0,0,6" VerticalAlignment="Bottom" Height="20" Width="115" RenderTransformOrigin="0.162,0.45"/>
                                                            <Button Content="Set All Parent Masses" HorizontalAlignment="Left" Margin="501,0,0,7" x:Name="btnmrgspecSetParentMass" Click="btnmrgspecSetParentMass_Click" VerticalAlignment="Bottom" Width="127" Height="28"/>
                                                            <Button Content="Export to Excel" x:Name="btnMergeSpectraCopy" HorizontalAlignment="Left" Margin="637,0,0,7" VerticalAlignment="Bottom" Width="123" Height="28" Click="btnMergeSpectraCopy_Click"/>
                                                            <!--<DataGrid  x:Name="dtgridsequences1" Visibility="Collapsed" SelectionChanged="dtgridsequences_SelectionChanged_1" ItemsSource="{Binding}" AutoGenerateColumns="False" SelectionMode="Single" HorizontalGridLinesBrush="LightGray"  VerticalGridLinesBrush="LightGray">
                                                        <ContextMenuService.ContextMenu>
                                                            <ContextMenu x:Name="MenuSelectSq1" Width="250">
                                                            	<MenuItem x:Name="SelectSequences1" Header="Show" Click="chkSequenceTags_Checked_1"/>
                                                            	<MenuItem x:Name="UnSelectSequences1" Header="Hide" Click="chkSequenceTags_Unchecked_1"/>
                                                            </ContextMenu>
                                                        </ContextMenuService.ContextMenu>
                                                        <DataGrid.Columns>
                                                        	<DataGridTextColumn Binding="{Binding Visibility}" CanUserReorder="False" IsReadOnly="True" CanUserSort="True" CanUserResize="False" Header="Visible"/>
                                                        	<DataGridTextColumn Binding="{Binding Sequence}" CanUserReorder="False" IsReadOnly="True" CanUserSort="False" Header="Sequence"/>
                                                            <DataGridTextColumn Binding="{Binding NumberofAA}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False" CanUserSort="True"  Header="Score"/>
                                                        	<DataGridTextColumn Binding="{Binding Start}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False" CanUserSort="True"  Header="Start"/>
                                                        </DataGrid.Columns>
                                                    </DataGrid>-->
                                                        </Grid>
                                                    </wpfx:BusyIndicator>
                                                </TabItem>
                                                <TabItem Header="Sequence" Visibility="Collapsed">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="619*"/>
                                                            <ColumnDefinition Width="389*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <RichTextBox x:Name="txtMatchSequence" Margin="0,0,0,48" IsEnabled="False" Grid.ColumnSpan="2">
                                                            <RichTextBox.Resources>
                                                                <Style TargetType="{x:Type  Paragraph}">
                                                                    <Setter Property="Margin" Value="0"></Setter>
                                                                </Style>
                                                            </RichTextBox.Resources>
                                                        </RichTextBox>
                                                        <Button Content="Match" Margin="0,0,6,10" IsEnabled="True" Height="34" x:Name="btnMatch" Click="btnMatch_Click" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="112" Grid.Column="1"></Button>
                                                    </Grid>
                                                </TabItem>
                                                <TabItem Header="Auto Scan" x:Name="tbAutoScan">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="541*"/>


                                                        </Grid.ColumnDefinitions>
                                                        <TabControl TabStripPlacement="Left" Margin="0,0,79.8,-0.2">
                                                            <TabControl.Resources>
                                                                <Style TargetType="{x:Type TabItem}">
                                                                    <Setter Property="Padding" Value="4" />
                                                                    <Setter Property="HeaderTemplate">
                                                                        <Setter.Value>
                                                                            <DataTemplate>
                                                                                <ContentPresenter Content="{TemplateBinding Content}">
                                                                                    <ContentPresenter.LayoutTransform>
                                                                                        <RotateTransform Angle="-90" />
                                                                                    </ContentPresenter.LayoutTransform>
                                                                                </ContentPresenter>
                                                                            </DataTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Style>
                                                            </TabControl.Resources>
                                                            <TabItem Header="Top Protein Results" >
                                                                <wpfx:BusyIndicator x:Name="bsyAutoScanTopProteinResults">
                                                                    <Grid x:Name="grddtgridSearchResults">
                                                                        <!--<TextBox x:Name="txtSearchTermforAutoScan" Margin="5,0" Height="30" VerticalAlignment="Top"/>-->
                                                                        <DataGrid ItemsSource="{Binding ProteinView}" SelectedItem="{Binding LastSelectedItem, Mode=TwoWay}" EnableRowVirtualization="False"  x:Name="dtgridSearchResults" Margin="5,0,5,28"   AutoGenerateColumns="False" SelectionMode="Extended" CanUserAddRows="False" CanUserDeleteRows="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" MouseDoubleClick="dtgridSearchResults_MouseDoubleClick">
                                                                            <!-- MouseDoubleClick="dtgridSearchResults_MouseDoubleClick" PreviewMouseDoubleClick="">-->
                                                                            <!--<DataGrid.RowStyle>
                                                                                <Style TargetType="{x:Type DataGridRow}">
                                                                                    <EventSetter Event="PreviewMouseDoubleClick" Handler="dtgridSearchResults_MouseDoubleClick" />
                                                                                </Style>
                                                                            </DataGrid.RowStyle>-->
                                                                            <DataGrid.Resources>
                                                                                <Style TargetType="Hyperlink">
                                                                                    <EventSetter Event="Click" Handler="DG_Hyperlink_Click"/>
                                                                                </Style>
                                                                            </DataGrid.Resources>
                                                                            <DataGrid.RowStyle>
                                                                                <Style TargetType="{x:Type DataGridRow}">
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding Path=DuplicateConfirmedSequence}" Value="True">
                                                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </DataGrid.RowStyle>
                                                                            <DataGrid.CommandBindings>
                                                                                <CommandBinding Command="ApplicationCommands.Delete" Executed="CommandBinding_Executed_1"></CommandBinding>
                                                                                <CommandBinding Command="ApplicationCommands.Copy" CanExecute="CopyCmdCanExecute" Executed="CopyCmdExecuted" />
                                                                                <!--<CommandBinding Command="ApplicationCommands.Delete" CanExecute="ClearCmdCanExecute" Executed="ClearCmdExecuted" />-->
                                                                            </DataGrid.CommandBindings>
                                                                            <DataGrid.Columns>
                                                                                <DataGridTextColumn  Width="60" x:Name="dtSearchScans" IsReadOnly="True" Header="Scan(s)" CanUserResize="True" SortMemberPath="AppendedScanNumber" CanUserReorder="False" Binding="{Binding Path=ScanNumbers}" ></DataGridTextColumn>
                                                                                <!--SortMemberPath="{Binding Path=AppendedScanNumber}"-->
                                                                                <DataGridTextColumn Width="60"  IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ParentMass, StringFormat=F2 }"></DataGridTextColumn>
                                                                                <DataGridTextColumn Width="60" IsReadOnly="True" Header="Z" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Parentz_s}"></DataGridTextColumn>
                                                                                <DataGridTextColumn Width="145" IsReadOnly="True" Header="Tag" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=QueryTag}" Visibility="Collapsed"></DataGridTextColumn>
                                                                                <DataGridTemplateColumn Width="145" x:Name="tmpAutoScanTags" CanUserReorder="False"  Header="Tag" IsReadOnly="True">
                                                                                    <DataGridTemplateColumn.CellTemplate>
                                                                                        <DataTemplate>
                                                                                            <TextBlock TextOptions.TextFormattingMode="Display" TextWrapping="Wrap" Text="{Binding Path=QueryTag, Mode=OneWay, NotifyOnTargetUpdated=True }" Tag="{Binding BlastpPartialMatch, Mode=OneWay }" Uid="{Binding Path=ScanNumbers}" MouseRightButtonDown="txtblockAutoScanSequence_MouseRightButtonDown" TargetUpdated="TextBlock_TargetUpdated"  VerticalAlignment="Center"  />
                                                                                        </DataTemplate>
                                                                                    </DataGridTemplateColumn.CellTemplate>
                                                                                </DataGridTemplateColumn>
                                                                                <!--<DataGridTextColumn x:Name="txtdtgrdcolumnAutoScanIntensity" Header="Intensity" Width="60" CanUserReorder="False" CanUserResize="True" >
                                                                                </DataGridTextColumn>-->
                                                                                <DataGridHyperlinkColumn Width="240" x:Name="dtgridautoscandescriptionhyperlink" IsReadOnly="True" Header="Description" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Description}">
                                                                                    <DataGridHyperlinkColumn.ElementStyle>
                                                                                        <Style>
                                                                                            <EventSetter Event="Hyperlink.Click" Handler="DG_Hyperlink_Click"></EventSetter>
                                                                                        </Style>
                                                                                    </DataGridHyperlinkColumn.ElementStyle>
                                                                                </DataGridHyperlinkColumn>
                                                                                <DataGridTextColumn Width="240" x:Name="dtgridautoscandescriptiontext" Visibility="Hidden"  IsReadOnly="True" Header="Description" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Description}"></DataGridTextColumn>
                                                                                <DataGridTextColumn Binding="{Binding Path=Start}" Width="35" IsReadOnly="True" Header="Start" CanUserResize="True" CanUserReorder="False" ></DataGridTextColumn>
                                                                                <DataGridTextColumn Binding="{Binding Path=endend}" Width="30" IsReadOnly="True" Header="End" CanUserResize="True" CanUserReorder="False" ></DataGridTextColumn>
                                                                                <DataGridTextColumn Binding="{Binding Path=tStart}" Width="39" IsReadOnly="True" Header="tStart" CanUserResize="True" CanUserReorder="False"  ></DataGridTextColumn>
                                                                                <DataGridTextColumn Binding="{Binding Path=tEnd}" Width="34" IsReadOnly="True" Header="tEnd" CanUserResize="True" CanUserReorder="False" ></DataGridTextColumn>
                                                                                <DataGridTextColumn x:Name="dtgridAutoScantxtTagHits" Binding="{Binding Path=YellowandGreenTagHits, StringFormat=0.00}" Width="35" IsReadOnly="True" Header="Hits" CanUserResize="True" CanUserReorder="False" >
                                                                                </DataGridTextColumn>
                                                                                <DataGridTextColumn Width="68" IsReadOnly="True" Binding="{Binding Path=DeltaMassVersusProtein, StringFormat=0.0000 }" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdAStxtDeltaMass" Header="Delta Mass"></DataGridTextColumn>
                                                                                <DataGridTemplateColumn x:Name="dttmpValidation" Header="Validation" Width="80" IsReadOnly="True" >
                                                                                    <DataGridTemplateColumn.CellTemplate>
                                                                                        <DataTemplate>
                                                                                            <Button Content="Validate"  Background="{Binding Path=Coverage}" Foreground="White" x:Name="btnColorValidate" Click="btnColorValidate_Click" >
                                                                                            </Button>
                                                                                        </DataTemplate>
                                                                                    </DataGridTemplateColumn.CellTemplate>
                                                                                </DataGridTemplateColumn>
                                                                                <DataGridTemplateColumn x:Name="dttmpConfirmedSequence" Header="Confirmed" Width="70" SortMemberPath="IsNotConfirmed" IsReadOnly="True">
                                                                                    <DataGridTemplateColumn.CellTemplate>
                                                                                        <DataTemplate>
                                                                                            <Button Content="Confirm" x:Name="btnConfirmSequence" Click="btnConfirmSequence_Click" IsEnabled="{Binding Path=IsNotConfirmed}">
                                                                                            </Button>
                                                                                        </DataTemplate>
                                                                                    </DataGridTemplateColumn.CellTemplate>
                                                                                </DataGridTemplateColumn>
                                                                                <DataGridTemplateColumn x:Name="tmpAutoScanSequences" Width="*" CanUserReorder="False"  Header="Sequence" IsReadOnly="True">
                                                                                    <DataGridTemplateColumn.CellTemplate>
                                                                                        <DataTemplate>
                                                                                            <TextBlock TextOptions.TextFormattingMode="Display" TextWrapping="Wrap" Text="{Binding Path=Sequence, Mode=OneWay, NotifyOnTargetUpdated=True }" Uid="{Binding Path=ScanNumbers}" MouseRightButtonDown="txtblockAutoScanSequence_MouseRightButtonDown" x:Name="txtblockAutoScanSequence" Tag="{Binding matchstartends, Mode=OneWay }"  TargetUpdated="OnTargetUpdated" VerticalAlignment="Center"  />
                                                                                        </DataTemplate>
                                                                                    </DataGridTemplateColumn.CellTemplate>
                                                                                </DataGridTemplateColumn>

                                                                                <DataGridTextColumn Binding="{Binding Path=Sequence}" IsReadOnly="True" Header="Sequence" Visibility="Collapsed" />

                                                                                <!--<DataGridTextColumn Width="*" FontFamily="Century Schoolbook" IsReadOnly="True" Header="Top Protein Sequence" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Sequence}"></DataGridTextColumn>-->

                                                                            </DataGrid.Columns>
                                                                            <DataGrid.ContextMenu>
                                                                                <ContextMenu>
                                                                                    <!--<MenuItem Header="Clear List" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=QuantitationListView}"/>-->
                                                                                    <MenuItem Header="Copy All" x:Name="mnuRichTextCopy" Click="mnuRichTextCopy_Click" />
                                                                                    <MenuItem Header="Export to Excel" x:Name="mnuExporttoExcel" Click="mnuExporttoExcel_Click" ></MenuItem>
                                                                                    <MenuItem Header="Copy Sequence" x:Name="mnuCopySequence" Click="mnuCopySequence_Click"></MenuItem>
                                                                                    <MenuItem Header="Copy Row" x:Name="mnuCopyProtein" Click="mnuCopyProtein_Click"></MenuItem>
                                                                                    <MenuItem Header="Copy Accession" x:Name="mnuCopyAccession" Click="mnuCopyAccession_Click"></MenuItem>
                                                                                    <MenuItem Header="Copy Header" x:Name="mnuCopyHeader" Click="mnuCopyHeader_Click" ></MenuItem>
                                                                                    <MenuItem Header="Find in uniprot" x:Name="mnuFindinUniprot" Click="mnuFindinUniprot_Click"></MenuItem>
                                                                                    <MenuItem Header="Export Sequence Tags to Excel" x:Name="mnuExportSequenceTagstoExcel" Click="mnuExportSequenceTagstoExcel_Click" ></MenuItem>
                                                                                </ContextMenu>
                                                                            </DataGrid.ContextMenu>
                                                                        </DataGrid>
                                                                        <Label Content="{Binding Path=Number}" x:Name="lblAutoScanNumberofScans" HorizontalAlignment="Left" Margin="5,0,0,0" VerticalAlignment="Bottom" Width="862" Height="28"/>
                                                                    </Grid>
                                                                </wpfx:BusyIndicator>
                                                            </TabItem>
                                                            <TabItem Header="De Novo Results" x:Name="tbDenovoResults" >
                                                                <Grid>
                                                                    <DataGrid x:Name="dtgridSearchResultsDeNovo" ItemsSource="{Binding DenovoView}" SelectedItem="{Binding LastSelectedItem, Mode=TwoWay}" Margin="5"  AutoGenerateColumns="False" SelectionMode="Extended" CanUserAddRows="False" CanUserDeleteRows="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" MouseDoubleClick="dtgridSearchResults_MouseDoubleClick">
                                                                        <DataGrid.CommandBindings>
                                                                            <CommandBinding Command="ApplicationCommands.Delete" Executed="CommandBinding_Executed_1"></CommandBinding>
                                                                            <CommandBinding Command="ApplicationCommands.Copy" CanExecute="CopyCmdCanExecute" Executed="CopyCmdExecuted" />
                                                                            <!--<CommandBinding Command="ApplicationCommands.Delete" CanExecute="ClearCmdCanExecute" Executed="ClearCmdExecuted" />-->
                                                                        </DataGrid.CommandBindings>
                                                                        <DataGrid.Columns>
                                                                            <DataGridTextColumn Width="60" IsReadOnly="True" Header="Scan(s)" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=ScanNumbers}" ></DataGridTextColumn>
                                                                            <DataGridTextColumn Width="60"  IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ParentMass, StringFormat=F2 }"></DataGridTextColumn>
                                                                            <DataGridTextColumn Width="30" IsReadOnly="True" Header="Z" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Parentz_s}"></DataGridTextColumn>
                                                                            <DataGridTextColumn Width="145" IsReadOnly="True" Header="Longest Tag" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=TagForTopProtein}"></DataGridTextColumn>
                                                                            <DataGridTextColumn Width="70" IsReadOnly="True" Header="Tag Count" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=TagCount}"></DataGridTextColumn>
                                                                            <DataGridTextColumn Width="120" IsReadOnly="True" Header="MS2 Identification" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=IsIdentifiedYesNo }"></DataGridTextColumn>
                                                                            <!--<DataGridTextColumn Width="240" IsReadOnly="True" Header="Top Protein ID" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=TopProtein}"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="*" IsReadOnly="True" Header="Top Protein Sequence" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=TopProteinSequence}"></DataGridTextColumn>-->

                                                                        </DataGrid.Columns>
                                                                        <DataGrid.ContextMenu>
                                                                            <ContextMenu>
                                                                                <!--<MenuItem Header="Clear List" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=QuantitationListView}"/>-->
                                                                                <MenuItem Header="Copy" Command="ApplicationCommands.Copy" CommandTarget="{Binding ElementName=dtgridSearchResults}"/>
                                                                            </ContextMenu>
                                                                        </DataGrid.ContextMenu>
                                                                    </DataGrid>
                                                                </Grid>
                                                            </TabItem>
                                                            <!--<TabItem Header="Proteins and De Novo" >
                                                            <Grid>
                                                                    <DataGrid x:Name="dtgridSearchResultsProtDeNovo" Margin="5"  AutoGenerateColumns="False" SelectionMode="Extended" CanUserAddRows="False" CanUserDeleteRows="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" MouseDoubleClick="dtgridSearchResults_MouseDoubleClick">
                                                                    <DataGrid.CommandBindings>
                                                                        <CommandBinding Command="ApplicationCommands.Delete" Executed="CommandBinding_Executed_1"></CommandBinding>
                                                                        <CommandBinding Command="ApplicationCommands.Copy" CanExecute="CopyCmdCanExecute" Executed="CopyCmdExecuted" />
                                                                        -->
                                                            <!--<CommandBinding Command="ApplicationCommands.Delete" CanExecute="ClearCmdCanExecute" Executed="ClearCmdExecuted" />-->
                                                            <!--
                                                                    </DataGrid.CommandBindings>
                                                                    <DataGrid.Columns>
                                                                        <DataGridTextColumn Width="60" IsReadOnly="True" Header="Scan(s)" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=Scan}" ></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="60"  IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ParentMass, StringFormat=F2 }"></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="30" IsReadOnly="True" Header="Z" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ParentZ}"></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="145" IsReadOnly="True" Header="Longest Tag" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=LongTag}"></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="70" IsReadOnly="True" Header="Tag Count" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=TagCount}"></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="240" IsReadOnly="True" Header="Top Protein ID" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=TopProtein}"></DataGridTextColumn>
                                                                        <DataGridTextColumn Width="*" IsReadOnly="True" Header="Top Protein Sequence" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=TopProteinSequence}"></DataGridTextColumn>

                                                                    </DataGrid.Columns>
                                                                    <DataGrid.ContextMenu>
                                                                        <ContextMenu>
                                                                            -->
                                                            <!--<MenuItem Header="Clear List" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=QuantitationListView}"/>-->
                                                            <!--
                                                                            <MenuItem Header="Copy" Command="ApplicationCommands.Copy" CommandTarget="{Binding ElementName=dtgridSearchResults}"/>
                                                                        </ContextMenu>
                                                                    </DataGrid.ContextMenu>
                                                                </DataGrid>

                                                            </Grid>
                                                        </TabItem>-->
                                                        </TabControl>
                                                        <wpfx:SplitButton Content="Export" Margin="0,115,0.2,0" Height="28" VerticalAlignment="Top" Click="btnSaveasPDF_Click" x:Name="btnEmailScans" HorizontalAlignment="Right" Width="75" Grid.Column="1" Grid.ColumnSpan="2">
                                                            <!--Click="btnCopyTopProteinResults_Click"  -->
                                                            <wpfx:SplitButton.DropDownContent>
                                                                <StackPanel x:Name="stckpnlEmailScansnow">
                                                                    <MenuItem Header="Save as PDF ..." x:Name="btnSaveasPDF" Click="btnSaveasPDF_Click"></MenuItem>
                                                                </StackPanel>
                                                            </wpfx:SplitButton.DropDownContent>
                                                        </wpfx:SplitButton>

                                                        <!--<Button Margin="0,0,10,113" Content="ClearAutoScanDatagrid" x:Name="btnClearAutoScanDatagrid" Click="btnClearAutoScanDatagrid_Click" Grid.Column="1" Grid.ColumnSpan="2" Height="26" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="83"></Button> -->

                                                        <!--<TextBlock x:Name="txtblkSequenceSearchResult" Visibility="Hidden" Text="Sequence Search Result file loaded" TextWrapping="WrapWithOverflow" Margin="0,0,6,121" Grid.ColumnSpan="2" Grid.Column="1" HorizontalAlignment="Right" Width="72" Height="49" VerticalAlignment="Bottom"></TextBlock>-->



                                                        <!--<Button Margin="0,0,-1,89" Grid.Column="1" x:Name="btnSaveAutoScanResults" Click="SaveWorkspace" Content="Save Workspace" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="95" Grid.ColumnSpan="2"/>-->
                                                        <!--<Button Margin="0,0,6.2,86.8" Grid.Column="1" x:Name="btnSaveAutoScanResults" Click="SaveWorkspace_Click" IsEnabled="{Binding Path=IsSaveEnabled}" Content="Save Workspace" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="82" Grid.ColumnSpan="2"/>-->
                                                        <!--<Button Margin="0,0,0.333,86.333" Grid.Column="1" x:Name="btnSaveAutoScanResults" Command="{Binding SaveCommand}" Content="Save Workspace" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="93" Grid.ColumnSpan="2"/>-->

                                                        <!--<Button Margin="0,0,6.2,120.8" Grid.Column="1" x:Name="btnDebug"  Content="Debug" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="82" Grid.ColumnSpan="2" Click="btnDebug_Click"/>-->

                                                        <!--<Button Margin="0,115,6,0" Content="Email" Visibility="Visible" x:Name="btnCopyTopProteinResults" Click="btnCopyTopProteinResults_Click" Height="28" VerticalAlignment="Top" HorizontalAlignment="Right" Width="75"></Button>-->
                                                        <ProgressBar Minimum="0" Maximum="100" Name="bsyforAutoScan" IsIndeterminate="False" Margin="0,0,0.2,39.8" RenderTransformOrigin="5.147,2.028" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="75" Grid.Column="1" Grid.ColumnSpan="2"/>
                                                        <Label Content="Start Scan" HorizontalAlignment="Right" Margin="0,10,9.2,0" VerticalAlignment="Top" Width="71" Height="26"/>
                                                        <Label Content="End Scan" HorizontalAlignment="Right" Margin="0,65,20.2,0" VerticalAlignment="Top" Height="26" Width="60"/>
                                                        <TextBox x:Name="txtStart" HorizontalAlignment="Right" Height="23" Margin="0,33,0.2,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="75" Grid.Column="1" Grid.ColumnSpan="2"/>
                                                        <TextBox x:Name="txtEnd" HorizontalAlignment="Right" Height="23" Margin="0,87,0.2,0" TextWrapping="Wrap" Text="*" VerticalAlignment="Top" Width="75" Grid.Column="1" Grid.ColumnSpan="2"/>
                                                        <Label x:Name="lblRunTime" Content="" Margin="0,0,0.2,60.8" VerticalAlignment="Bottom" Height="26" HorizontalAlignment="Right" Width="80" HorizontalContentAlignment="Right"/>
                                                        <Button Height="30" Content="Generate" HorizontalAlignment="Right" Margin="0,0,0.2,4.8" x:Name="btnGenerateSearchSummary" VerticalAlignment="Bottom" Width="75" Click="btnGenerateSearchSummary_Click"  >
                                                            <!--<wpfx:BusyIndicator x:Name="bsyforAutoScan" IsBusy="False" Margin="0,0,0,43" Height="36" VerticalAlignment="Bottom" HorizontalAlignment="Right"  Width="95"></wpfx:BusyIndicator>-->
                                                        </Button>
                                                        <!--<wpfx:BusyIndicator x:Name="bsyforAutoScan" IsBusy="False" HorizontalAlignment="Right" Height="25" Margin="0,0,6,41" VerticalAlignment="Bottom" Width="87">
                                                        </wpfx:BusyIndicator>-->

                                                    </Grid>
                                                </TabItem>

                                                <TabItem x:Name="tbValidate" Header="Validate" MouseLeftButtonUp="tbValidate_MouseLeftButtonDown" >

                                                    <Grid Margin="0,0,0,-3">

                                                        <!--<Grid.RowDefinitions>
                                                            <RowDefinition Height="1*"></RowDefinition>
                                                            <RowDefinition Height="120*"></RowDefinition>
                                                        </Grid.RowDefinitions>-->


                                                        <!--<Grid Grid.Row="1" Height="57" VerticalAlignment="Top">-->
                                                        <TextBox Panel.ZIndex="1" Drop="txtValidateSequenceWithSpectrum_Drop" VerticalContentAlignment="Center" TextChanged="btnValidateSequenceWithSpectrum_Click" PreviewDragOver="txtValidateSequenceWithSpectrum_PreviewDragOver" AllowDrop="True" x:Name="txtValidateSequenceWithSpectrum" Height="27" VerticalAlignment="Top" Margin="4,4,214,0">
                                                            <TextBox.ContextMenu>
                                                                <ContextMenu>
                                                                    <MenuItem x:Name="mnuitmCut" Header="Cut" Click="mnuitmCut_Click"></MenuItem>
                                                                    <MenuItem x:Name="mnuitmCopy" Header="Copy" Click="mnuitmCopy_Click"></MenuItem>
                                                                    <MenuItem x:Name="mnuitmPaste" Header="Paste" Click="mnuitmPaste_Click">
                                                                    </MenuItem>
                                                                    <MenuItem x:Name="mnuitmDeltxtValidateSequenceWithSpectrum" Click="mnuitmDeltxtValidateSequenceWithSpectrum_Click" Header="Remove all modifications">
                                                                    </MenuItem>
                                                                </ContextMenu>
                                                            </TextBox.ContextMenu>
                                                        </TextBox>
                                                        <TextBox x:Name="txtbxValidateTabAccession" Visibility="Hidden"/>
                                                        <Button x:Name="btnApplyandShowBandYIons" Click="btnApplyandShowBandYIons_Click" Content="Show" Height="26" VerticalAlignment="Top" Margin="0,4,80,0" HorizontalAlignment="Right" Width="57"/>
                                                        <Label Margin="0,33,893,0" Content="Theoretical Mass:" Height="25" VerticalAlignment="Top"></Label>
                                                        <Label Margin="100,33,0,0" x:Name="lblTheoreticalMass" ContentStringFormat="F5" HorizontalContentAlignment="Left" HorizontalAlignment="Left" Width="77" Height="25" VerticalAlignment="Top"></Label>
                                                        <Label x:Name="lblbandyionspercent" Margin="571,33,4.8,0" VerticalAlignment="Top" Height="25"/>
                                                        <Label x:Name="lblbandyionpercentagehidden" Visibility="Hidden" ></Label>
                                                        <Label Content="Experimental Mass:" HorizontalAlignment="Left"  Margin="182,33,0,0" VerticalAlignment="Top" Height="25" Width="111"/>
                                                        <TextBox MouseDoubleClick="lblExperimentalMass_MouseDoubleClick"  KeyDown="lblExperimentalMass_KeyDown"  Background="WhiteSmoke" IsReadOnly="True" x:Name="lblExperimentalMass" HorizontalContentAlignment="Left" HorizontalAlignment="Left" Margin="293,37,0,0" BorderBrush="WhiteSmoke" VerticalAlignment="Top" Height="19" Width="88"></TextBox>
                                                        <!--<Label Content="" x:Name="lblExperimentalMass" HorizontalAlignment="Left" Margin="302,32,0,0" VerticalAlignment="Top" Height="25" Width="74"LostFocus="lblExperimentalMass_LostFocus" BorderBrush="LightGray" BorderThickness="1"/>-->
                                                        <Button Content="Unimod..." x:Name="btnshowUnimod" Click="btnshowUnimod_Click" Margin="0,4,0,0" VerticalAlignment="Top" Height="26" HorizontalAlignment="Right" Width="75"/>

                                                        <!--</Grid>-->

                                                        <Grid Grid.Row="1" Margin="0,57,0,0">
                                                            <!--<Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="73*"/>
                                                                <ColumnDefinition Width="935*"/>
                                                            </Grid.ColumnDefinitions>-->

                                                            <!--<Grid>-->
                                                            <!--<Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                                    <ColumnDefinition Width="5"></ColumnDefinition>
                                                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                                                </Grid.ColumnDefinitions>-->

                                                            <!--<Grid Margin="0,62,0,-1"  HorizontalAlignment="Left" Width="442"  >-->

                                                            <!--<Grid Grid.Column="0">-->

                                                            <DataGrid VerticalContentAlignment="Center" AllowDrop="True"   Drop="dtgridBandYIons_Drop" LoadingRow="dtgridBandYIons_LoadingRow" 
                                                                          AutoGenerateColumns="False" SelectionMode="Extended" CanUserAddRows="False" CanUserDeleteRows="False" HorizontalGridLinesBrush="LightGray" 
                                                                          VerticalGridLinesBrush="LightGray" x:Name="dtgridBandYIons" HorizontalAlignment="Left" Width="475" Margin="-1,29,0,31">
                                                                <!-- MouseMove="dtgridBandYIons_MouseMove" PreviewDragOver="dtgridBandYIons_PreviewDragOver"-->
                                                                <DataGrid.ContextMenu>
                                                                    <ContextMenu>
                                                                        <MenuItem Header="Delete Modification" x:Name="mnuitmdtgridBandYIonsDeleteMod" Click="mnuitmdtgridBandYIonsDeleteMod_Click"></MenuItem>
                                                                        <MenuItem Header="Copy to Excel" x:Name="mnuitmgridBandYIonsCopyExcel" Click="mnuitmgridBandYIonsCopyExcel_Click"></MenuItem>
                                                                    </ContextMenu>
                                                                </DataGrid.ContextMenu>
                                                                <DataGrid.Columns>
                                                                    <DataGridTextColumn  IsReadOnly="True" CanUserSort="False" Width="45" CanUserResize="False" CanUserReorder="False" Header="b-H2O">
                                                                        <!-- Visibility="{Binding Path=DisplayBYIons, NotifyOnSourceUpdated=True, Source=Application.Current}"  -->
                                                                        <!-- Visibility="{Binding Path=ShowBYions}"-->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=bh2oioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="Aqua"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                        <DataGridTextColumn.CellStyle>
                                                                            <Style TargetType="DataGridCell">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=bh2oioncolor}" Value="true">
                                                                                        <Setter Property="ToolTip" Value="{Binding bh2oion}" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.CellStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn  IsReadOnly="True" CanUserSort="False" Width="Auto" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=Bion, StringFormat=F3}" Header="b Ions">
                                                                        <!-- Visibility="{Binding Path=DisplayBYIons, Source={x:Static Application.Current}}"  -->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=bioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="Tomato"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn  IsReadOnly="True" CanUserSort="False" Width="Auto" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=Cion, StringFormat=F3}" Header="c Ions">
                                                                        <!--  Visibility="{Binding Path=ShowCZions}" -->
                                                                        <!-- Visibility="{Binding Path=DisplayCZIons, Source={x:Static Application.Current}}" -->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=cioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="DarkRed"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="45" CanUserSort="False" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=BionNumber}" Header="bIon #"></DataGridTextColumn>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="71" CanUserSort="False" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=AminoAcid}" Header="Amino Acid"></DataGridTextColumn>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="42" CanUserSort="False" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=NewYIonNumber}" Header="yIon #"></DataGridTextColumn>
                                                                    <DataGridTextColumn IsReadOnly="True"  Width="Auto" CanUserSort="False" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=Yion, StringFormat=F3}" Header="y Ions">
                                                                        <!-- Visibility="{Binding Path=DisplayBYIons, Source={x:Static Application.Current}}"-->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=yioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="ForestGreen"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="Auto" CanUserSort="False" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=Zion, StringFormat=F3}" Header="z Ions">
                                                                        <!-- Visibility="{Binding Path=DisplayCZIons, Source={x:Static Application.Current}}" -->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=ShowCZions}" Value="true">
                                                                                        <Setter Property="Background" Value="Green"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn  IsReadOnly="True"  Width="44" CanUserSort="False" CanUserResize="False" CanUserReorder="False" Header="y-H2O">
                                                                        <!--  Visibility="{Binding Path=DisplayBYIons, Source={x:Static Application.Current}}"-->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=yh2oioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="Aqua"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                        <DataGridTextColumn.CellStyle>
                                                                            <Style TargetType="DataGridCell">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=yh2oioncolor}" Value="true">
                                                                                        <Setter Property="ToolTip" Value="{Binding yh2oion}" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.CellStyle>
                                                                    </DataGridTextColumn>
                                                                    <DataGridTextColumn  IsReadOnly="True" Width="46"  CanUserSort="False" CanUserResize="False" CanUserReorder="False" Header="y-NH3">
                                                                        <!-- Visibility="{Binding Path=DisplayBYIons, Source={x:Static Application.Current}}"-->
                                                                        <DataGridTextColumn.ElementStyle>
                                                                            <Style TargetType="{x:Type TextBlock}">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=ynh3ioncolor}" Value="true">
                                                                                        <Setter Property="Background" Value="PaleGreen"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.ElementStyle>
                                                                        <DataGridTextColumn.CellStyle>
                                                                            <Style TargetType="DataGridCell">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=ynh3ioncolor}" Value="true">
                                                                                        <Setter Property="ToolTip" Value="{Binding ynh3ion}" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </DataGridTextColumn.CellStyle>
                                                                    </DataGridTextColumn>
                                                                </DataGrid.Columns>
                                                            </DataGrid>

                                                            <Button Content="Show B ions" x:Name="btnShowBions" Click="btnShowBions_Click" Margin="3,0,0,3" HorizontalAlignment="Left" Width="100" Height="23" VerticalAlignment="Bottom"/>
                                                            <Button Margin="341,0,0,3" Content="Clear Ions" Click="btnClearBandYIons_Click" x:Name="btnClearBandYIons" HorizontalAlignment="Left" Width="130" Height="23" VerticalAlignment="Bottom"/>
                                                            <Button Content="Show Y ions" x:Name="btnShowYions" Click="btnShowYions_Click" Margin="184,0,0,3" HorizontalAlignment="Left" Width="100" Height="23" VerticalAlignment="Bottom"/>



                                                            <DataGrid x:Name="dtgridModificationsList" AllowDrop="True" PreviewMouseLeftButtonDown="dtgridModificationsList_PreviewMouseLeftButtonDown" 
                                                                     CanUserAddRows="False" CanUserDeleteRows="False"     AutoGenerateColumns="False" SelectionMode="Single" HorizontalAlignment="Left" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" Margin="477,29,0,55" Width="271">
                                                                <!-- CanUserAddRows="False" CanUserDeleteRows="False" DragEnter="dtgridModificationsList_DragEnter" DragOver="dtgridModificationsList_DragOver" Drop="dtgridModificationsList_Drop" DragLeave="dtgridModificationsList_DragLeave"-->
                                                                <DataGrid.ContextMenu>
                                                                    <ContextMenu  x:Name="cntxmnuAddModifications">
                                                                        <MenuItem Header="Delete modification" x:Name="mnudeletemodification" Click="mnudeletemodification_Click" />
                                                                        <MenuItem Header="Apply a fixed mod ..." PreviewMouseMove="MenuItem_PreviewMouseMove" x:Name="mnuitemnewmodification">
                                                                            <MenuItem Header="New" Click="mnuitmAddnewmod_Click" x:Name="mnuitmAddnewmod"></MenuItem>
                                                                        </MenuItem>
                                                                        <MenuItem Header="Edit" x:Name="mnuitmEditmod" Click="mnuitmEditmod_Click" ></MenuItem>
                                                                    </ContextMenu>
                                                                </DataGrid.ContextMenu>
                                                                <DataGrid.Columns>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="104" CanUserSort="False" Binding="{Binding Path=Name}" CanUserResize="True" Header="Name" CanUserReorder="False"/>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="61" CanUserSort="False" Binding="{Binding Path=Mass}" CanUserResize="False" Header="Mass" CanUserReorder="False"/>
                                                                    <DataGridTextColumn IsReadOnly="True" Width="*" CanUserSort="False" Binding="{Binding Path=Abbreviation}" CanUserResize="False" Header="Abbreviation" CanUserReorder="False">
                                                                    </DataGridTextColumn>
                                                                </DataGrid.Columns>
                                                            </DataGrid>
                                                            <TextBox HorizontalAlignment="Left" Margin="479,0,0,21" TextWrapping="Wrap" Width="111" x:Name="txtvalidateModification" Height="28" VerticalAlignment="Bottom" />
                                                            <TextBox HorizontalAlignment="Left" Margin="595,0,0,21" TextWrapping="Wrap" Width="55" PreviewTextInput="txtvalidateMass_PreviewTextInput" x:Name="txtvalidateMass" Height="28" VerticalAlignment="Bottom" />
                                                            <TextBox HorizontalAlignment="Left" CharacterCasing="Lower" Margin="652,0,0,21" TextWrapping="Wrap" Width="59" x:Name="txtvalidateAbbreviation" Height="28" VerticalAlignment="Bottom"/>
                                                            <Button Content="Add" HorizontalAlignment="Left" Margin="715,0,0,22" VerticalAlignment="Bottom" x:Name="btnvalidateaddmod" Click="btnvalidateaddmod_Click" Width="33" Height="28"/>
                                                            <!--</Grid>-->

                                                            <!--<GridSplitter Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Stretch" ShowsPreview="False" Width="4">
                                                                    <GridSplitter.Background>
                                                                        <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ActiveBorderColorKey}}"/>
                                                                    </GridSplitter.Background>
                                                                </GridSplitter>-->

                                                            <!--<Grid Grid.Column="2">-->
                                                            <vc:Chart x:Name="ErrorPlot" AnimationEnabled="True" AnimatedUpdate="True" Padding="3" ZoomingEnabled="True" ToolBarEnabled="True"  ManualZoomEnabled="True" Background="White" ScrollingEnabled="True" Margin="755,6,2,3">
                                                                <vc:Chart.Titles>
                                                                    <vc:Title Text="Error Plot"/>
                                                                </vc:Chart.Titles>
                                                                <vc:Chart.AxesX>
                                                                    <vc:Axis  StartFromZero="False" x:Name="xaxisErrorPlot"  OnZoom="xaxisErrorPlot_OnZoom" AxisMinimum="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorAxisMin, Mode=TwoWay}" AxisMaximum="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorAxisMax, Mode=TwoWay}" />
                                                                    <!--- Title="{Binding Source=}" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorPlot, Mode=TwoWay}"-->
                                                                </vc:Chart.AxesX>
                                                                <vc:Chart.AxesY>
                                                                    <vc:Axis AxisType="Primary" x:Name="yaxisErrorPlot" Title="B/YIon position">
                                                                    </vc:Axis>
                                                                    <vc:Axis AxisMaximum="0" Visibility="Hidden" AxisType="Secondary" x:Name="yaxisErrorPlot1" Title="YIons" Enabled="False"></vc:Axis>
                                                                </vc:Chart.AxesY>
                                                                <vc:Chart.Series>
                                                                    <vc:DataSeries Color="Red" RenderAs="Point" x:Name="BIonsAMU" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledBYErrorsAMU, Mode=TwoWay}" >
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="bionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="BorYIon" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="BionDaltonDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="Red" RenderAs="Point" x:Name="BIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledBYErrors, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="bionPPM" />
                                                                            <vc:DataMapping MemberName="YValue" Path="BorYIon" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="BionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="DarkRed" RenderAs="Point" x:Name="CIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledCZErrors, Mode=TwoWay}">
                                                                        <!-- Path=EnabledCZIons, Mode=TwoWay,Source=Application.Current}"   > -->
                                                                        <!--  Enabled="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorPlot, Mode=TwoWay}" Enabled="False" -->
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="cionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="CorZIon" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="CionDaltonDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="DarkRed" RenderAs="Point" x:Name="CIonsAMU" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledCZErrorsAMU, Mode=TwoWay}" >
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="cionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="CorZIon" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="CionDaltonDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="Green" AxisYType="Secondary" RenderAs="Point"  x:Name="YIonsAMU" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledBYErrorsAMU, Mode=TwoWay}">
                                                                        <!--<vc:DataSeries Color="Green" AxisYType="Secondary" RenderAs="Point"  x:Name="YIonsAMU" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledBYErrorsAMU, Mode=TwoWay}">-->
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="yionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="YionNumber" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="YionDaltonDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>

                                                                    <vc:DataSeries Color="Green" AxisYType="Secondary" RenderAs="Point" x:Name="YIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledBYErrors, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="yionPPM" />
                                                                            <vc:DataMapping MemberName="YValue" Path="YionNumber" />
                                                                            <!-- Path="BorYIon" /> -->
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="YionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="DarkGreen" AxisYType="Secondary" RenderAs="Point"  x:Name="ZIonsAMU" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledCZErrorsAMU, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="zionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="ZionNumber" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="YionDaltonDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="DarkGreen" AxisYType="Secondary" RenderAs="Point" x:Name="ZIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=EnabledCZErrors, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="zionPPM" />
                                                                            <vc:DataMapping MemberName="YValue" Path="ZionNumber" />
                                                                            <!-- Path="BorYIon" /> -->
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="YionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>

                                                                    <!--<vc:DataSeries Color="DarkRed" RenderAs="Point" x:Name="CIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorPlot, Mode=TwoWay}" >
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="cionerror" />
                                                                            <vc:DataMapping MemberName="YValue" Path="CorZIon" />
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="CionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>-->
                                                                    <!--<vc:DataSeries Color="DarkRed" AxisXType="Secondary" RenderAs="Point" x:Name="CIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorPlot, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="cionPPM" />
                                                                            <vc:DataMapping MemberName="YValue" Path="CionNumber" />
                                                                            -->
                                                                    <!-- Path="BorYIon" /> -->
                                                                    <!--
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="CionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>
                                                                    <vc:DataSeries Color="DarkRed" AxisXType="Secondary" RenderAs="Point" x:Name="ZIonsPPM" Enabled="{Binding Source={x:Static p:Settings.Default}, Path=PPMErrorPlot, Mode=TwoWay}">
                                                                        <vc:DataSeries.DataMappings>
                                                                            <vc:DataMapping MemberName="XValue" Path="zionPPM" />
                                                                            <vc:DataMapping MemberName="YValue" Path="ZionNumber" />
                                                                            -->
                                                                    <!-- Path="BorYIon" /> -->
                                                                    <!--
                                                                            <vc:DataMapping MemberName="ToolTipText" Path="ZionDescription"></vc:DataMapping>
                                                                        </vc:DataSeries.DataMappings>
                                                                    </vc:DataSeries>-->
                                                                    <!--<vc:DataSeries AxisYType="Secondary">
                                                                        
                                                                    </vc:DataSeries>-->
                                                                    <vc:DataSeries ShowInLegend="False" Color="LightGray" x:Name="ZeroDelta" RenderAs="Stick">
                                                                    </vc:DataSeries>
                                                                </vc:Chart.Series>

                                                            </vc:Chart>
                                                            <!--</Grid>-->
                                                            <!--</Grid>-->
                                                            <!--<TextBlock Grid.Column="1" HorizontalAlignment="Left" Margin="146,14,0,0" TextWrapping="Wrap" Text="TextBlock" VerticalAlignment="Top"/>   TextChanged="TextBox_TextChanged"-->
                                                            <!--</Grid>-->
                                                            <Label Foreground="Green" Content="Drag and drop modification to desired location" HorizontalAlignment="Left" Margin="477,0,0,-3" VerticalAlignment="Bottom" Height="29" Width="271"/>
                                                            <Label FontWeight="SemiBold"  Content="Post-Translational Modification"  HorizontalAlignment="Left" Margin="477,0,0,0" VerticalAlignment="Top" Height="29" Width="214"/>
                                                            <Label FontWeight="SemiBold"  Content="Amino Acid Fragmentation"  HorizontalAlignment="Left" Margin="-1,0,0,0" VerticalAlignment="Top" Height="29" Width="209"/>
                                                        </Grid>
                                                        <Label Content="Delta Mass:" HorizontalAlignment="Left" Margin="400,33,0,0" VerticalAlignment="Top" Height="25" Width="71" x:Name="lblDeltaMass" />
                                                        <Label Content="" HorizontalAlignment="Left" Margin="476,33,0,0" VerticalAlignment="Top" Width="90" Height="25" ContentStringFormat="F5"  x:Name="lblValidationDeltaMass" />
                                                        <Button x:Name="btnValidateConfirm" Click="btnValidateConfirm_Click" Content="Confirm" Height="26" VerticalAlignment="Top" Margin="0,4,142,0" HorizontalAlignment="Right" Width="67"/>
                                                        <TextBox Visibility="Hidden" x:Name="txtbxSequenceSet" HorizontalAlignment="Left" Height="23" Margin="988,10,-100,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="120"/>
                                                        <TextBox Visibility="Hidden" x:Name="txtbxSequenceScanNumbers" HorizontalAlignment="Left" Height="23" Margin="988,10,-100,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="120"/>
                                                        <TextBox Visibility="Hidden" x:Name="txtbxSequenceParentZs" HorizontalAlignment="Left" Height="23" Margin="988,10,-100,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="120"/>
                                                        <Button HorizontalAlignment="Right" x:Name="btnshowmorevalidations" Click="btnshowmorevalidations_Click" Visibility="Hidden" Panel.ZIndex="10" Margin="0,4,211,0" VerticalAlignment="Top" Width="38" Height="26">
                                                            <StackPanel Orientation="Horizontal" >
                                                                <Image Source="Icons/Black_Arrow_Down.png" Width="17" ></Image>
                                                            </StackPanel>
                                                        </Button>
                                                        <DataGrid HorizontalAlignment="Left" Margin="0,37,0,0" AutoGenerateColumns="False" VerticalAlignment="Top" MouseDoubleClick="dtgrdValidateSequences_MouseDoubleClick" RowStyle="{StaticResource HighlightPRow}" EnableRowVirtualization="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray"  Height="133" Width="739" Visibility="Hidden" x:Name="dtgrdValidateSequences" CanUserAddRows="False" CanUserDeleteRows="False" >
                                                            <DataGrid.Columns>
                                                                <DataGridTextColumn Binding="{Binding Path=Sequence}" Header="Sequence" CanUserSort="False" CanUserResize="True" CanUserReorder="False" IsReadOnly="True" Width="395"></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=AverageError, StringFormat=0.0000}" Header="AverageError" CanUserSort="False" CanUserResize="False" CanUserReorder="False" IsReadOnly="True" Width="82"></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=TotalKnownMods}" CanUserSort="False" CanUserResize="False" CanUserReorder="False" IsReadOnly="True" Header="KnownMods" Width="79"></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=BandYIonPercent, StringFormat=0.00}" CanUserSort="False" CanUserResize="False" CanUserReorder="False" IsReadOnly="True" Header="BandYIonPercent" Width="102"></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=Intensity, StringFormat=0.00}" CanUserSort="False" CanUserResize="False" CanUserReorder="False" IsReadOnly="True" Header="Intensity" Width="56"></DataGridTextColumn>
                                                            </DataGrid.Columns>
                                                        </DataGrid>


                                                        <!--<Button Margin="709,1,0,0" Panel.ZIndex="10" RenderTransformOrigin="-0.429,0.548" HorizontalAlignment="Left" Width="28" Height="31" VerticalAlignment="Top">
                                                            <Button.Content>
                                                                <Image Source="Icons/Black_Arrow_Down.png"></Image>
                                                            </Button.Content>
                                                        </Button>-->
                                                    </Grid>
                                                </TabItem>

                                                <TabItem x:Name="tbConfirmedSequenceTab" Header="Confirmed Sequence">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="41*"/>
                                                            <ColumnDefinition Width="613*"/>
                                                            <ColumnDefinition Width="341*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <DataGrid EnableRowVirtualization="False" ItemsSource="{Binding ConfirmedSequencesView}" SelectedItem="{Binding LastSelectedItem, Mode=TwoWay}" x:Name="dtgridConfirmedSequences" Margin="5,0,0,23"  AutoGenerateColumns="False" SelectionMode="Single" CanUserAddRows="False" CanUserDeleteRows="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" 
                                                                  MouseDoubleClick="dtgridConfirmedSequences_MouseDoubleClick"
                                                                  Grid.ColumnSpan="3" >
                                                            <DataGrid.Resources>
                                                                <Style TargetType="Hyperlink">
                                                                    <EventSetter Event="Click" Handler="DG_Hyperlink_Click"/>
                                                                </Style>
                                                            </DataGrid.Resources>
                                                            <DataGrid.RowStyle>
                                                                <Style TargetType="{x:Type DataGridRow}">
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding Path=DuplicateConfirmedSequence}" Value="True">
                                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </DataGrid.RowStyle>
                                                            <DataGrid.CommandBindings>
                                                                <CommandBinding Command="ApplicationCommands.Delete" Executed="CommandBinding_Executed_1"></CommandBinding>
                                                                <CommandBinding Command="ApplicationCommands.Copy" CanExecute="CopyCmdCanExecute" Executed="CopyCmdExecuted" />
                                                            </DataGrid.CommandBindings>
                                                            <DataGrid.Columns>
                                                                <DataGridTextColumn  Width="60" x:Name="dtgridConfirmedSequenceSearchScans" IsReadOnly="True" Header="Scan(s)" CanUserResize="True" SortMemberPath="AppendedScanNumber" CanUserReorder="False" Binding="{Binding Path=ScanNumbers}" ></DataGridTextColumn>
                                                                <!--<DataGridTextColumn  Width="60" x:Name="dtgridConfirmedSequenceSearchScans" IsReadOnly="True" Header="Scan(s)" CanUserResize="True" SortMemberPath="AppendedScanNumber" CanUserReorder="False" Binding="{Binding Path=LastCuration.ScanNumbers}" ></DataGridTextColumn>-->
                                                                <DataGridTextColumn Width="60"  IsReadOnly="True" Header="Mass" CanUserResize="False" CanUserReorder="False" Binding="{Binding Path=ParentMass, StringFormat=F2 }"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="60" IsReadOnly="True" Header="Z" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Parentz_s}"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="145" IsReadOnly="True" Header="Tag" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=BlastTagforTopProtein}" Visibility="Collapsed"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="180" Header="Accession" CanUserReorder="False" CanUserResize="True" Binding="{Binding Path=LastCuration.Accession}" ></DataGridTextColumn>
                                                                <DataGridTemplateColumn Width="145" x:Name="tmpdtgridAutoScanTags" CanUserReorder="False"  Header="Tag" IsReadOnly="True">
                                                                    <DataGridTemplateColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <!-- <TextBlock TextOptions.TextFormattingMode="Display" TextWrapping="Wrap" Text="{Binding Path=BlastTagforTopProtein, Mode=OneWay, NotifyOnTargetUpdated=True }" Tag="{Binding BlastpPartialMatch, Mode=OneWay }" TargetUpdated="TextBlock_TargetUpdatedNew"  VerticalAlignment="Center"  /> -->
                                                                            <TextBlock TextOptions.TextFormattingMode="Display" TextWrapping="Wrap" Text="{Binding Path=QueryTag, Mode=OneWay, NotifyOnTargetUpdated=True }" Tag="{Binding BlastpPartialMatch, Mode=OneWay }" TargetUpdated="TextBlock_TargetUpdated"  VerticalAlignment="Center"  />

                                                                        </DataTemplate>
                                                                    </DataGridTemplateColumn.CellTemplate>
                                                                </DataGridTemplateColumn>
                                                                <DataGridTextColumn Width="240" x:Name="dtgridconfirmedseqscandescriptionhyperlink" IsReadOnly="False" Header="Description" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=Description}">
                                                                    <!--<DataGridHyperlinkColumn.ElementStyle>
                                                                        <Style>
                                                                            <EventSetter Event="Hyperlink.Click" Handler="DG_Hyperlink_Click"></EventSetter>
                                                                        </Style>
                                                                    </DataGridHyperlinkColumn.ElementStyle>-->
                                                                </DataGridTextColumn>
                                                                <DataGridTextColumn Width="240"  Visibility="Hidden"  IsReadOnly="True" Header="Description" CanUserResize="True" CanUserReorder="False" Binding="{Binding Path=LastCuration.Description}"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="100" Visibility="Visible" Binding="{Binding Path=LastCuration.UserName}" IsReadOnly="True" Header="User Name"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="100"  Visibility="Visible" Binding="{Binding Path=LastCuration.CreatedDate}" IsReadOnly="True" Header="Date Time" ></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=Start}" Width="35" IsReadOnly="True" Header="Start" CanUserResize="True" CanUserReorder="False" ></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=endend}" Width="30" IsReadOnly="True" Header="End" CanUserResize="True" CanUserReorder="False" ></DataGridTextColumn>
                                                                <DataGridTextColumn x:Name="dtgridConfirmedseqtxtTagHits" Binding="{Binding Path=YellowandGreenTagHits, StringFormat=0.00}" Width="35" IsReadOnly="True" Header="Hits" CanUserResize="True" CanUserReorder="False" >
                                                                </DataGridTextColumn>
                                                                <DataGridTextColumn Width="68" IsReadOnly="True" Binding="{Binding Path=DeltaMass, StringFormat=0.0000 }" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdConfirmedseqAStxtDeltaMass" Header="Delta Mass"></DataGridTextColumn>
                                                                <DataGridTextColumn Width="82" IsReadOnly="True" Binding="{Binding Path=AverageErrors, StringFormat=0.0000}" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdConfirmedSeqAverageError" Header="Average Error" ></DataGridTextColumn>
                                                                <DataGridTextColumn Width="100" IsReadOnly="True" Binding="{Binding Path=BandYIonPercent, StringFormat=0.00}" CanUserResize="False" CanUserReorder="False" x:Name="dtgrdConfirmedSeqBandyIonPercent" Header="BandYIonPercent" ></DataGridTextColumn>
                                                                <DataGridTextColumn Binding="{Binding Path=LastCuration.ValidatedSequence}" Width="*" IsReadOnly="True" Header="Sequence" />
                                                            </DataGrid.Columns>
                                                            <DataGrid.ContextMenu>
                                                                <ContextMenu>
                                                                    <!--<MenuItem Header="Clear List" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=QuantitationListView}"/>-->
                                                                    <MenuItem Header="Delete Confirmed Sequence" x:Name="mnuDeleteOneConfirmedSequence" Click="mnuDeleteOneConfirmedSequence_Click" ></MenuItem>
                                                                    <MenuItem Header="Delete All" x:Name="mnuDeleteAllConfirmedSequences" Click="mnuDeleteAllConfirmedSequences_Click"  />

                                                                </ContextMenu>
                                                            </DataGrid.ContextMenu>
                                                        </DataGrid>
                                                        <Button Content="Export to Excel" x:Name="btnCnfrmdSqExporttoExcel" Click="btnCnfrmdSqExporttoExcel_Click" Margin="0,0,111,0" VerticalAlignment="Bottom" Grid.Column="1" HorizontalAlignment="Right" Width="83"/>
                                                    </Grid>
                                                </TabItem>


                                            </TabControl>
                                        </wpfx:BusyIndicator>
                                    </Grid>
                                </ad:LayoutAnchorable>
                            </ad:LayoutAnchorablePane>
                            <ad:LayoutAnchorablePaneGroup x:Name="panegroup1">
                                <ad:LayoutAnchorablePane x:Name="layoutanchorablepane3" DockHeight="288" DockWidth="191*" >
                                    <ad:LayoutAnchorable Title="Sequence Tags" x:Name="layoutanchorable3">

                                        <Grid>
                                            <wpfx:BusyIndicator x:Name="SequenceBusyIndicator">
                                                <Grid Grid.Row="0" Margin="0,0,0.415,1.5">
                                                    <DataGrid x:Name="dtgridsequences" RowStyle="{StaticResource HighlightRow}" Visibility="Collapsed" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ItemsSource="{Binding}" AutoGenerateColumns="False"  HorizontalGridLinesBrush="LightGray"  VerticalGridLinesBrush="LightGray" CanUserAddRows="False" CanUserDeleteRows="False" MouseDoubleClick="dtgridsequences_MouseDoubleClick" SelectionMode="Single">
                                                        <!--SelectionMode="Single" -->
                                                        <ContextMenuService.ContextMenu>
                                                            <ContextMenu x:Name="MenuSelectSq" Width="220">
                                                                <MenuItem x:Name="UnSelectSequences" Header="Hide" Click="chkSequenceTags_Unchecked_1" ></MenuItem>
                                                                <MenuItem x:Name="ShowRevTag" Header="Show Reverse" Click="dtgridsequences_ShowReverseTag" ></MenuItem>
                                                                <MenuItem x:Name="ExportSequenceTagsToExcel" Header="Export Sequence Tags to Excel" Click="ExportSequenceTagsToExcel_Click" ></MenuItem>
                                                            </ContextMenu>
                                                        </ContextMenuService.ContextMenu>
                                                        <DataGrid.Columns>
                                                            <DataGridTemplateColumn CanUserReorder="False" CanUserResize="False">
                                                                <DataGridTemplateColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Button x:Name="btnfindsqs" Click="btnfindsqs_Click" Content="Search" Tag="{Binding Path=Sequence}" ></Button>
                                                                    </DataTemplate>
                                                                </DataGridTemplateColumn.CellTemplate>
                                                            </DataGridTemplateColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=Sequence}" CanUserReorder="False" IsReadOnly="True" CanUserSort="False" Header="Sequence"></DataGridTextColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=DatabaseHits}" x:Name="dtgrdtxtDbHits" CanUserReorder="False" IsReadOnly="True" CanUserResize="False" CanUserSort="True"  Header="Hits">
                                                            </DataGridTextColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=Visibility}" CanUserReorder="False" IsReadOnly="True" CanUserSort="True" CanUserResize="False" Header="Visible"></DataGridTextColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=Score}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False" CanUserSort="True"  Header="Score"></DataGridTextColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=Start}" CanUserReorder="False" IsReadOnly="True" CanUserResize="False" CanUserSort="True"  Header="Start"></DataGridTextColumn>
                                                            <!--<DataGridTextColumn Binding="{Binding Path=SumofMonoMassIntensity}" CanUserReorder="False" IsReadOnly="True" CanUserResize="True" CanUserSort="True" Header="SumofIntensities" ></DataGridTextColumn>
                                                            <DataGridTextColumn Binding="{Binding Path=AverageMonoMassIntensity}" CanUserReorder="False" IsReadOnly="True" CanUserResize="True" CanUserSort="True" Header="AverageIntensity" ></DataGridTextColumn>-->
                                                        </DataGrid.Columns>
                                                    </DataGrid>
                                                </Grid>
                                            </wpfx:BusyIndicator>
                                            <Grid>
                                                <Button Content="Find Sequence Tags" Height="23" Name="btnFindAA" Canvas.Left="273" Canvas.Top="10" Click="btnFindAA_Click" FontSize="9" Margin="42,97,43,104" IsEnabled="False" />
                                            </Grid>
                                        </Grid>
                                    </ad:LayoutAnchorable>
                                </ad:LayoutAnchorablePane>
                                <ad:LayoutAnchorablePane x:Name="layoutanchorablepane2" DockHeight="288" DockWidth="639*">
                                    <ad:LayoutAnchorable Title="Spectrum" x:Name="layoutanchorable2">
                                        <wpfx:BusyIndicator x:Name="busySpectrum">
                                            <Grid Name="grid1" Margin="41.242,0,3,0" >
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="11*"/>
                                                    <RowDefinition Height="18*"/>
                                                    <RowDefinition Height="95*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="95*"/>
                                                    <ColumnDefinition Width="48*"/>
                                                    <ColumnDefinition Width="247*"/>
                                                </Grid.ColumnDefinitions>
                                                <Canvas Name="canvas1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.ColumnSpan="3" Margin="-41,0,-0.489,-0.466" Grid.RowSpan="3">
                                                    <Canvas.Background>
                                                        <RadialGradientBrush Center="0.1, 1.5" GradientOrigin="0.5, 1" RadiusX="1.4" RadiusY="0.84">
                                                            <GradientStop Color="Red" Offset="0.01" />
                                                            <GradientStop Color="White" Offset="0.9" />
                                                        </RadialGradientBrush>
                                                    </Canvas.Background>
                                                    <!--<ContextMenuService.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem x:Name="mnuMono" Click="mnuMono_Click_1" Header="Mono">
                                                            <MenuItem.Icon>
                                                                <Image x:Name="imgMono" Width="15" Height="15" Visibility="Collapsed">
                                                                    <Image.Source>
                                                                        <BitmapImage x:Name="btmpMono" UriSource="Icons/yes.png"></BitmapImage>
                                                                    </Image.Source>
                                                                </Image>
                                                            </MenuItem.Icon>
                                                        </MenuItem>
                                                        <MenuItem x:Name="mnuActual" Click="mnuMono_Click_1" Header="Primary">
                                                            <MenuItem.Icon>
                                                                <Image x:Name="imgActual" Width="15" Height="15" Visibility="Visible">
                                                                    <Image.Source>
                                                                        <BitmapImage x:Name="btmpActual" UriSource="Icons/yes.png"></BitmapImage>
                                                                    </Image.Source>
                                                                </Image>
                                                            </MenuItem.Icon>
                                                        </MenuItem>
                                                        <MenuItem x:Name="mnuPredicted" Click="mnuMono_Click_1" Header="Predicted">
                                                            <MenuItem.Icon>
                                                                <Image x:Name="imgPredicted" Width="15" Height="15" Visibility="Collapsed">
                                                                    <Image.Source>
                                                                        <BitmapImage x:Name="btmpPredicted" UriSource="Icons/yes.png"></BitmapImage>
                                                                    </Image.Source>
                                                                </Image>
                                                            </MenuItem.Icon>
                                                        </MenuItem>
                                                    </ContextMenu>
                                                </ContextMenuService.ContextMenu>-->
                                                    <Label Canvas.Left="431" Canvas.Top="17" Height="25" Name="label1" Width="72" Content="Cross Fader" />
                                                    <TextBox Height="23" IsEnabled="False" Name="txtScanNum" Width="72" TextInput="txtScanNum_TextInput" Canvas.Left="32" Canvas.Top="6" />
                                                    <Button Content="&gt;" Height="23" IsEnabled="False" Name="btnNext" Width="27" Click="btnNext_Click" Canvas.Left="107" Canvas.Top="6" />
                                                    <Label Canvas.Left="322" Canvas.Top="8" Content="Score Filter:" Height="28" Name="label7" Width="72" Visibility="Hidden" />
                                                    <Button Canvas.Left="272" Canvas.Top="10" Content="FindMono" Height="23" Name="btnFindMono" Width="49" FontSize="9" Click="button2_Click" Visibility="Hidden" />
                                                    <!--<Button Canvas.Left="172" Canvas.Top="4" Content="Clear Mono" ToolTip="Clear MonoIsotopic Peaks" FontSize="9" Height="23" Name="btnClearMono" Width="53" Click="button3_Click" />-->
                                                    <wpfx:SplitButton Content="Clear All" x:Name="btnClearSpectrumAll" Canvas.Left="137" Canvas.Top="6" Height="23" Width="79" Click="btnClearAll">
                                                        <wpfx:SplitButton.DropDownContent>
                                                            <StackPanel>
                                                                <MenuItem Header="Clear MonoIsotopic Peaks" Click="ClearMonos_Click" />
                                                                <MenuItem Header="Clear AminoAcids" Click="ClearAminoAcids_Click" />
                                                                <MenuItem Header="Clear Red Series" Click="ClearRed_Click" />
                                                                <MenuItem Header="Clear Sequence Tags" x:Name="mnuclrsqtgs" Click="mnuclrsqtgs_Click"></MenuItem>
                                                                <MenuItem Header="Clear Red Markers" x:Name="mnuclrRdMarkers" Click="mnuclrRdMarkers_Click" />
                                                                <MenuItem Header="Clear Green Markers" x:Name="mnuclrGreenMarkers" Click="mnuclrGreenMarkers_Click" />
                                                                <MenuItem Header="Clear Red and Green Markers" x:Name="mnuClrRdGrnMarkers" Click="mnuClrRdGrnMarkers_Click" />
                                                                <!--<MenuItem Header="Clear Mass Tags" IsEnabled="False" />-->
                                                            </StackPanel>

                                                        </wpfx:SplitButton.DropDownContent>
                                                    </wpfx:SplitButton>

                                                    <wpfx:SplitButton Content="Find Sequence" Canvas.Left="219" Canvas.Top="6" Width="103" Height="23" x:Name="btnFindSequenceinSpectrum" Click="btnFindSequence_Click">
                                                        <wpfx:SplitButton.DropDownContent>
                                                            <StackPanel>
                                                                <MenuItem Header="Find Sequence" ToolTip="Finds the Amino Acid Sequence originating from the Parent Mass (similar to Lutefisk)" Click="btnFindSequence_Click" />
                                                                <MenuItem Header="Show MonoIsotopic Peaks" Click="button4_Click" />
                                                                <MenuItem Header="Set Parent Mass" x:Name="mnuitemSetParentMass" Click="mnuitemSetParentMass_Click" ></MenuItem>
                                                                <!--<MenuItem Header="Find Mass Tags" IsEnabled="False" />-->
                                                            </StackPanel>

                                                        </wpfx:SplitButton.DropDownContent>
                                                    </wpfx:SplitButton>

                                                    <Grid Name="grdDirection" Canvas.Left="521" Height="40" Width="134">
                                                        <Label Content="Direction" Margin="38,16,26,-2"/>
                                                        <Label Content="F" x:Name="lblForward" Canvas.Left="608" FontWeight="Bold" Canvas.Top="1" Margin="118,0,-6,0"/>
                                                        <Label Content="R" x:Name="lblReverse" Canvas.Left="488" Opacity="0.00" FontWeight="Bold" Canvas.Top="-1"/>
                                                        <Slider Canvas.Left="504" x:Name="sldDirectionSlider" Maximum="1" Minimum="0" Value="1" LargeChange="0.25" SmallChange="0.25" ValueChanged="DirectionSlider_ValueChanged"  Canvas.Top="3" Width="100" TickPlacement="TopLeft" IsSnapToTickEnabled="True" TickFrequency="0.25"/>
                                                    </Grid>

                                                    <Button Canvas.Left="324" Canvas.Top="9" Content="M" Height="23" Name="btnAllMono" Width="17" Click="button4_Click" Visibility="Hidden" />
                                                    <TextBox Canvas.Left="629" Canvas.Top="12" Height="23" Visibility="Hidden" Name="textBox1" Width="20" Text="1" TextChanged="textBox1_TextChanged" />
                                                    <TextBox Canvas.Left="655" Canvas.Top="12" Height="23" Visibility="Hidden" Name="textBox2" Width="27" Text="30" />
                                                    <Button Canvas.Left="639" Canvas.Top="6" Content="Button" Visibility="Hidden" Height="11" Name="button5" Width="34" Click="button5_Click" />
                                                    <Slider Canvas.Left="636" x:Name="ThermoSlider" Visibility="Collapsed"  ValueChanged="ThermoSlider_ValueChanged_1" Canvas.Top="3" Width="90" Maximum="0.9" LargeChange="0.1" Value="0.1" Minimum="0.01" />
                                                    <Label Content="Alternate CD" Visibility="Collapsed"  x:Name="lblAlternateCD" Canvas.Left="651" Canvas.Top="17"/>
                                                    <Button Content="Set Parent Mass" Visibility="Hidden" x:Name="btnSetManualParentMass"  Click="btnSetManualParentMass_Click" Canvas.Left="325" Canvas.Top="6" Width="90" RenderTransformOrigin="0.253,-0.364" Height="23"/>
                                                    <Slider Canvas.Left="431" Canvas.Top="0" Height="36" x:Name="slider1" Width="74" ValueChanged="slider1_ValueChanged" Maximum="1.0" LargeChange="0.1" Value="0.1" Minimum="0.2" TickPlacement="TopLeft" TickFrequency="0.2" />
                                                    <!--<Button Content="Clear AAs" ToolTip="Clear all Amino Acid labels" Canvas.Left="232" Canvas.Top="4" Width="48" Height="23" FontSize="10" Click="Button_Click"/>
                                                    
                                                    Visibility="Hidden"
                                                    
                                                    -->


                                                    <!--<Button Content="Find Sequence" x:Name="btnFindSequence" Canvas.Left="272" Canvas.Top="6" Width="76" Height="23" FontSize="10" Click="btnFindSequence_Click"/>-->


                                                </Canvas>
                                                <!--<vc:Chart ManualZoomEnabled="true" SmartLabelEnabled="True" SamplingThreshold="500" AnimationEnabled="false" BorderThickness="0.5" IsEnabled="False" Margin="10,39,6,6" Name="BottomChart" Padding="3" ShadowEnabled="false" Theme="Theme1" ZoomingEnabled="True">-->
                                                <vc:Chart IndicatorEnabled="True" ManualZoomEnabled="true" SmartLabelEnabled="True" AnimationEnabled="false" BorderThickness="0.5" IsEnabled="False" Margin="-32,16,5,6" Name="BottomChart" Padding="3" ShadowEnabled="False" ZoomingEnabled="True" ToolBarEnabled="True" Background="White" Grid.ColumnSpan="3" Grid.Row="1" Grid.RowSpan="2">
                                                    <ContextMenuService.ContextMenu>
                                                        <ContextMenu Name="contextMenu1" Width="250">
                                                            <MenuItem x:Name="MenuItem1" Header="Find Mono Mass" Click="MenuItem1_Click" IsEnabled="True" />
                                                            <MenuItem x:Name="mnuShowMonoLabel" Header="Show Mono Label" Click="MenuItem1_Click" IsEnabled="True"/>
                                                            <!--<MenuItem x:Name="mnuItemMnmasswlbl" Header="Find Mono Mass with label" Click="mnuItemMnmasswlbl_Click" IsEnabled="True"/>-->
                                                            <!--<MenuItem x:Name="MenuItem2" Header="Save as Image" Click="MenuItem2_Click" IsEnabled="True"/>-->

                                                            <Separator />
                                                            <MenuItem x:Name="MenuItem8" Header="XIC" Click="XIC_Click" IsEnabled="True" />
                                                            <MenuItem x:Name="MenuItem4" Header="Copy Points" Click="CopyPoints_Click" IsEnabled="True" />
                                                            <MenuItem x:Name="MenuItem9" Header="Copy Isotope Clusters" Click="CopyIsotopeClusters_Click" IsEnabled="False" />

                                                            <Separator />
                                                            <MenuItem x:Name="mnuShowSmoothedSignal" Header="Show Smoothed Signal" Click="MenuItem1_Click" IsEnabled="True" />
                                                            <MenuItem x:Name="mnuShowPredicted" Header="Show Predicted Distribution" Click="MenuItem1_Click" IsEnabled="True" />
                                                            <MenuItem x:Name="mnuShowCalled" Header="Show Called Distribution" Click="MenuItem1_Click" IsEnabled="True" />

                                                            <MenuItem Header="Set Scaling">
                                                                <MenuItem x:Name="mnuMono" Click="mnuMono_Click_1" Header="Mono">
                                                                    <MenuItem.Icon>
                                                                        <Image x:Name="imgMono" Width="15" Height="15" Visibility="Collapsed">
                                                                            <Image.Source>
                                                                                <BitmapImage x:Name="btmpMono" UriSource="Icons/yes.png"></BitmapImage>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </MenuItem.Icon>
                                                                </MenuItem>
                                                                <MenuItem x:Name="mnuActual" Click="mnuMono_Click_1" Header="Primary">
                                                                    <MenuItem.Icon>
                                                                        <Image x:Name="imgActual" Width="15" Height="15" Visibility="Visible">
                                                                            <Image.Source>
                                                                                <BitmapImage x:Name="btmpActual" UriSource="Icons/yes.png"></BitmapImage>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </MenuItem.Icon>
                                                                </MenuItem>
                                                                <MenuItem x:Name="mnuPredicted" Click="mnuMono_Click_1" Header="Predicted">
                                                                    <MenuItem.Icon>
                                                                        <Image x:Name="imgPredicted" Width="15" Height="15" Visibility="Collapsed">
                                                                            <Image.Source>
                                                                                <BitmapImage x:Name="btmpPredicted" UriSource="Icons/yes.png"></BitmapImage>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </MenuItem.Icon>
                                                                </MenuItem>
                                                                <!--<MenuItem x:Name="mnuThermo" Click="mnuMono_Click_1" Header="Thermo">
                                                                    <MenuItem.Icon>
                                                                        <Image x:Name="imgThermo" Width="15" Height="15" Visibility="Collapsed">
                                                                            <Image.Source>
                                                                                <BitmapImage x:Name="btmpThermo" UriSource="Icons/yes.png"></BitmapImage>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </MenuItem.Icon>
                                                                </MenuItem>-->
                                                                <!--<MenuItem x:Name="mnuReverse" Click="mnuMono_Click_1" Header="Thermo">
                                                                <MenuItem.Icon>
                                                                    <Image x:Name="imgReverse" Width="15" Height="15" Visibility="Collapsed">
                                                                        <Image.Source>
                                                                            <BitmapImage x:Name="btmpReverse" UriSource="Icons/yes.png"></BitmapImage>
                                                                        </Image.Source>
                                                                    </Image>
                                                                </MenuItem.Icon>
                                                            </MenuItem>-->
                                                            </MenuItem>
                                                            <!--<MenuItem Header="Lutefisk" Click="mnudta_Click_1" x:Name="mnudta">
                                                        </MenuItem>-->
                                                        </ContextMenu>
                                                    </ContextMenuService.ContextMenu>
                                                    <vc:Chart.AxesX>
                                                        <vc:Axis StartFromZero="True" x:Name="X1" Title="Mass (amu)" OnZoom="X1_OnZoom" />
                                                    </vc:Chart.AxesX>
                                                    <vc:Chart.AxesY>
                                                        <vc:Axis Title="Intensity"/>
                                                        <vc:Axis AxisType="Secondary" Enabled="False" Visibility="Collapsed" />
                                                    </vc:Chart.AxesY>
                                                    <vc:Chart.Series>
                                                        <vc:DataSeries Color="Blue" LabelEnabled="false" Name="BottomChartPoints" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="Mass" />
                                                                <vc:DataMapping MemberName="YValue" Path="HybridIntensity" />
                                                                <!--<vc:DataMapping MemberName="LabelText" Path="Mass" />-->
                                                                <vc:DataMapping MemberName="ToolTipText" Path="Description" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <!--<vc:DataSeries ToolTipText="{x:Null}" Color="Red" MarkerSize="14" MarkerType="Triangle" Name="BottomMarkerPoints" RenderAs="Point" ShowInLegend="false" Opacity="0">-->
                                                        <vc:DataSeries RenderAs="Stick" MaxForY="True"  Color="Red" Name="RedMarkersSeriesBright" ShowInLegend="false" Opacity="1" />

                                                        <vc:DataSeries Color="Green" MaxForY="True" Name="GreenMarkersSeriesBright" RenderAs="Stick" ShowInLegend="false" Opacity="1" />

                                                        <vc:DataSeries Name="Labels" MarkerSize="0" MarkerColor="Transparent" MarkerEnabled="False" RenderAs="Stick" ShowInLegend="false" LabelEnabled="True" XValueFormatString="#0.0000"  LabelText="#XValue">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                <vc:DataMapping MemberName="YValue" Path="Value" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries ToolTipText="{x:Null}" Color="Green" DataSource="{Binding}" BorderStyle ="Dotted" LabelEnabled="False" Name="MonoMassSeries" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="XValue" />
                                                                <vc:DataMapping MemberName="YValue" Path="YValue" />
                                                                <vc:DataMapping MemberName="ToolTipText" Path="Description"></vc:DataMapping>
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries Color="Red" Opacity=".2" ShadowEnabled="False" LabelEnabled="false" x:Name="Predictedseries" RenderAs="QuickLine" MarkerEnabled="False" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="Key" />
                                                                <vc:DataMapping MemberName="YValue" Path="Value" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>

                                                        <vc:DataSeries Color="Blue" LabelEnabled="false" Name="MZPoints" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="MZ" />
                                                                <vc:DataMapping MemberName="YValue" Path="Intensity" />
                                                                <!--<vc:DataMapping MemberName="LabelText" Path="Mass" />-->
                                                                <!--<vc:DataMapping MemberName="ToolTipText" Path="Description" />-->
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="AnnotationBars2" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="Black" ShowInLegend="false" Opacity="0.70" AxisYType="Secondary">
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="AnnotationBars3" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="Black" ShowInLegend="false" Opacity="0.35" AxisYType="Secondary">
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="GrayBarSeries" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="Gray" ShowInLegend="false" Opacity="0.50" AxisYType="Secondary">
                                                        </vc:DataSeries>
                                                        <vc:DataSeries Color="Brown"  LabelEnabled="false" x:Name="ThermoFischer" RenderAs="Stick" Opacity="0.01" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="Mass" />
                                                                <vc:DataMapping MemberName="YValue" Path="Intensity" />
                                                                <vc:DataMapping MemberName="ToolTipText" Path="Description" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries Color="Purple"  LabelEnabled="false" x:Name="ReverseSeries" Opacity="0.00" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="Mass" />
                                                                <vc:DataMapping MemberName="YValue" Path="Intensity" />
                                                                <vc:DataMapping MemberName="ToolTipText" Path="Description" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries ToolTipText="{x:Null}" Color="Green" DataSource="{Binding}" BorderStyle ="Dotted"  LabelEnabled="false" Name="ReverseMonoMassSeries" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="XValue" />
                                                                <vc:DataMapping MemberName="YValue" Path="YValue" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" MaxForY="True" Name="MonoMasslabel" RenderAs="Line" LightingEnabled="False" LineThickness="0"  Color="Green"  ShowInLegend="false" Opacity="1.0" AxisYType="Secondary">
                                                        </vc:DataSeries>
                                                        <vc:DataSeries Color="DarkGreen" LabelEnabled="false" MaxForY="True" x:Name="ParentMonoSeries" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="MonoMass" />
                                                                <vc:DataMapping MemberName="YValue" Path="Intensity" />
                                                                <vc:DataMapping MemberName="ToolTipText" Path="Description" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="WaterLossSeries" RenderAs="Line" LightingEnabled="False" LineThickness="5" Color="Aqua"  ShowInLegend="false" Opacity="0.5" AxisYType="Secondary" />
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="AmmoniaLossSeries" RenderAs="Line" LightingEnabled="False" LineThickness="5" Color="LimeGreen"  ShowInLegend="false" Opacity="0.5" AxisYType="Secondary" />
                                                        <vc:DataSeries ToolTipText="{x:Null}" MaxForY="True" Color="Yellow"  BorderStyle="Dotted"  LabelEnabled="false" Name="MonoMassesfordbSequence" RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="XValue" />
                                                                <vc:DataMapping MemberName="YValue" Path="YValue" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="AnnotationBarsBlue" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="RoyalBlue"  ShowInLegend="false" Opacity="1.0" AxisYType="Secondary">
                                                        </vc:DataSeries>




                                                        <vc:DataSeries Color="Red" LabelEnabled="false" ToolTipText="Zero" x:Name="ZeroSeries" MaxForY="True"  RenderAs="Stick" ShowInLegend="false" XValueFormatString="#0.0000">
                                                            <vc:DataSeries.DataMappings>
                                                                <vc:DataMapping MemberName="XValue" Path="MonoMass" />
                                                                <vc:DataMapping MemberName="YValue" Path="Intensity" />
                                                            </vc:DataSeries.DataMappings>
                                                        </vc:DataSeries>
                                                        <vc:DataSeries Color="Red" LabelEnabled="True" ToolTipText="{x:Null}" Name="RedBarSeries" RenderAs="Line" LightingEnabled="False" LineThickness="8" ShowInLegend="False" Opacity="1.00" AxisYType="Secondary"></vc:DataSeries>
                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="AnnotationBars1" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="Black"  ShowInLegend="false" Opacity="1.0" AxisYType="Secondary" />

                                                        <vc:DataSeries LabelEnabled="true" ToolTipText="{x:Null}" Name="CTerminusLine" RenderAs="Line" LightingEnabled="False" LineThickness="8" Color="Purple" ShowInLegend="false" Opacity="1.0" AxisYType="Secondary">
                                                        </vc:DataSeries>


                                                        <vc:DataSeries RenderAs="Stick" MaxForY="True"  Color="Red" Name="RedMarkersSeries" ShowInLegend="false" Opacity="0.7" />

                                                        <vc:DataSeries Color="Green" MaxForY="True" Name="GreenMarkersSeries" RenderAs="Stick" ShowInLegend="false" Opacity="0.7" />

                                                        <vc:DataSeries RenderAs="Stick" MaxForY="True"  Color="Red" Name="RedMarkersSeriesLite" ShowInLegend="false" Opacity="0.15" />

                                                        <vc:DataSeries Color="Green" MaxForY="True" Name="GreenMarkersSeriesLite" RenderAs="Stick" ShowInLegend="false" Opacity="0.15" />



                                                    </vc:Chart.Series>

                                                    <vc:Chart.Titles>
                                                        <vc:Title FontSize="14" Text="Spectrum" />
                                                        <vc:Title Name="txtSubTitle" FontSize="10" Text="File Name" FontColor="DarkGray"  />
                                                    </vc:Chart.Titles>
                                                </vc:Chart>
                                                <Button Content="&lt;" Height="23" HorizontalAlignment="Left" IsEnabled="False" Margin="-38,6,0,0" Name="btnPrevious" VerticalAlignment="Top" Width="26" Click="btnPrevious_Click" Grid.RowSpan="2" />
                                                <Label Height="26" Margin="310,8,11,0" x:Name="lblOffset" VerticalAlignment="Top" Grid.Column="2" Grid.RowSpan="2" HorizontalContentAlignment="Right" />
                                                <CheckBox Content="Bin Data Points" Height="16" HorizontalAlignment="Left" Margin="34.907,17,0,0" Name="chkBins" VerticalAlignment="Top" IsChecked="True" Visibility="Collapsed" Grid.Column="2" Grid.RowSpan="2" />
                                            </Grid>
                                        </wpfx:BusyIndicator>
                                    </ad:LayoutAnchorable>
                                </ad:LayoutAnchorablePane>
                            </ad:LayoutAnchorablePaneGroup>
                        </ad:LayoutPanel>
                    </ad:LayoutRoot>
                </ad:DockingManager>

            </Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
        </Grid>
    </wpfx:BusyIndicator>
</Window>
